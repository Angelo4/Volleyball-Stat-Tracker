{"ast":null,"code":"import _pick from \"lodash/pick\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Selection, Helpers, Collection, LineSegment, Scale, Domain, Box } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar SMALL_NUMBER = 1 / Number.MAX_SAFE_INTEGER;\n\nvar getScale = function getScale(props) {\n  var _props$scale = props.scale,\n      scale = _props$scale === void 0 ? {} : _props$scale,\n      _props$dimension = props.dimension,\n      dimension = _props$dimension === void 0 ? \"x\" : _props$dimension;\n\n  if (scale[dimension]) {\n    return scale[dimension];\n  }\n\n  var fallbackScale = Scale.getBaseScale(props, dimension);\n  var range = Helpers.getRange(props, dimension);\n  var domain = Domain.getDomainFromProps(props, dimension) || [0, 1];\n  fallbackScale.range(range).domain(domain);\n  return fallbackScale;\n};\n\nvar getDimension = function getDimension(props) {\n  var horizontal = props.horizontal,\n      _props$dimension2 = props.dimension,\n      dimension = _props$dimension2 === void 0 ? \"x\" : _props$dimension2;\n\n  if (!horizontal) {\n    return dimension;\n  }\n\n  return dimension === \"x\" ? \"y\" : \"x\";\n};\n\nvar toRange = function toRange(props, domain) {\n  var scale = getScale(props);\n  return [scale(Math.min.apply(Math, _toConsumableArray(domain))), scale(Math.max.apply(Math, _toConsumableArray(domain)))];\n};\n\nvar toDomain = function toDomain(props, range) {\n  var scale = getScale(props);\n  return [scale.invert(Math.min.apply(Math, _toConsumableArray(range))), scale.invert(Math.max.apply(Math, _toConsumableArray(range)))];\n};\n\nvar getFullRange = function getFullRange(props) {\n  var scale = getScale(props);\n  return scale.range();\n};\n\nvar getFullDomain = function getFullDomain(props) {\n  var scale = getScale(props);\n  return scale.domain();\n};\n\nvar withinBound = function withinBound(value, bound) {\n  return value >= Collection.getMinValue(bound) && value <= Collection.getMaxValue(bound);\n};\n\nvar getBrushDomain = function getBrushDomain(brushDomain, fullDomain) {\n  if (brushDomain) {\n    var brushMin = Collection.getMinValue(brushDomain);\n    var brushMax = Collection.getMaxValue(brushDomain);\n    var domainMin = Collection.getMinValue(fullDomain);\n    var domainMax = Collection.getMaxValue(fullDomain);\n    var defaultMin = brushMin < domainMin ? domainMin : domainMax - SMALL_NUMBER;\n    var defaultMax = brushMax > domainMax ? domainMax : domainMin + SMALL_NUMBER;\n    var min = withinBound(brushMin, fullDomain) ? brushMin : defaultMin;\n    var max = withinBound(brushMax, fullDomain) ? brushMax : defaultMax;\n    return [min, max];\n  }\n\n  return fullDomain;\n};\n\nvar getActiveHandle = function getActiveHandle(props, position, range) {\n  var width = props.handleWidth / 2;\n  var dimension = getDimension(props);\n\n  var getHandle = function getHandle(type) {\n    var base = {\n      min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) : Math.max.apply(Math, _toConsumableArray(range)),\n      max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) : Math.min.apply(Math, _toConsumableArray(range))\n    };\n    return [base[type] - width, base[type] + width];\n  };\n\n  var active = [\"min\", \"max\"].reduce(function (memo, type) {\n    memo[type] = withinBound(position, getHandle(type)) ? type : undefined;\n    return memo;\n  }, {});\n  return active.min && active.max ? \"both\" : active.min || active.max;\n};\n\nvar getMinimumDomain = function getMinimumDomain() {\n  return [0, SMALL_NUMBER];\n};\n\nvar panBox = function panBox(props, position) {\n  var brushDomain = props.brushDomain,\n      startPosition = props.startPosition;\n  var range = toRange(props, brushDomain);\n  var fullRange = getFullRange(props);\n  var size = Math.abs(range[1] - range[0]);\n  var globalMin = Math.min.apply(Math, _toConsumableArray(fullRange));\n  var globalMax = Math.max.apply(Math, _toConsumableArray(fullRange));\n  var delta = startPosition ? startPosition - position : 0;\n  var min = Math.min.apply(Math, _toConsumableArray(range)) - delta;\n  var max = Math.max.apply(Math, _toConsumableArray(range)) - delta;\n  var constrainedMin = min > globalMax - size ? globalMax - size : Math.max(min, globalMin);\n  var constrainedMax = max < globalMin + size ? globalMin + size : Math.min(max, globalMax);\n  return [constrainedMin, constrainedMax];\n};\n\nvar fallbackProps = {\n  brushAreaStyle: {\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function opacity(_ref) {\n      var active = _ref.active;\n      return active ? 0.2 : 0.1;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  brushStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function opacity(_ref2) {\n      var active = _ref2.active;\n      return active ? 0.4 : 0.3;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  handleStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"none\"\n  }\n};\n\nvar VictoryBrushLine = /*#__PURE__*/function (_React$Component) {\n  _inherits(VictoryBrushLine, _React$Component);\n\n  var _super = _createSuper(VictoryBrushLine);\n\n  function VictoryBrushLine() {\n    _classCallCheck(this, VictoryBrushLine);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(VictoryBrushLine, [{\n    key: \"getRectDimensions\",\n    value: function getRectDimensions(props, brushWidth, domain) {\n      var brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      domain = domain || getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var coordinates = dimension === \"x\" ? {\n        y1: props.y1,\n        y2: props.y2,\n        x1: Math.min.apply(Math, _toConsumableArray(range)),\n        x2: Math.max.apply(Math, _toConsumableArray(range))\n      } : {\n        x1: props.x1,\n        x2: props.x2,\n        y1: Math.min.apply(Math, _toConsumableArray(range)),\n        y2: Math.max.apply(Math, _toConsumableArray(range))\n      };\n      var x1 = coordinates.x1,\n          x2 = coordinates.x2,\n          y1 = coordinates.y1,\n          y2 = coordinates.y2;\n      var offset = {\n        x: dimension === \"x\" ? 0 : brushWidth / 2,\n        y: dimension === \"y\" ? 0 : brushWidth / 2\n      };\n      var x = Math.min(x1, x2) - offset.x;\n      var y = Math.min(y1, y2) - offset.y;\n      var width = Math.max(x1, x2) + offset.x - x;\n      var height = Math.max(y1, y2) + offset.y - y;\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"getHandleDimensions\",\n    value: function getHandleDimensions(props) {\n      var handleWidth = props.handleWidth,\n          x1 = props.x1,\n          x2 = props.x2,\n          y1 = props.y1,\n          y2 = props.y2,\n          brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      var brushWidth = props.brushWidth || props.width;\n      var domain = getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var defaultX = Math.min(x1, x2) - brushWidth / 2;\n      var defaultY = Math.min(y1, y2) - brushWidth / 2;\n      var x = {\n        min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX,\n        max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX\n      };\n      var y = {\n        min: dimension === \"y\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY,\n        max: dimension === \"y\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY\n      };\n      var width = dimension === \"x\" ? handleWidth : brushWidth;\n      var height = dimension === \"x\" ? brushWidth : handleWidth;\n      return {\n        min: {\n          x: x.min,\n          y: y.min,\n          width: width,\n          height: height\n        },\n        max: {\n          x: x.max,\n          y: y.max,\n          width: width,\n          height: height\n        }\n      };\n    }\n  }, {\n    key: \"getCursor\",\n    value: function getCursor(props) {\n      var _props$activeBrushes = props.activeBrushes,\n          activeBrushes = _props$activeBrushes === void 0 ? {} : _props$activeBrushes;\n      var dimension = getDimension(props);\n\n      if (activeBrushes.minHandle || activeBrushes.maxHandle) {\n        return dimension === \"x\" ? \"ew-resize\" : \"ns-resize\";\n      } else if (activeBrushes.brush) {\n        return \"move\";\n      }\n\n      return \"crosshair\";\n    }\n  }, {\n    key: \"renderHandles\",\n    value: function renderHandles(props) {\n      var handleComponent = props.handleComponent,\n          handleStyle = props.handleStyle,\n          id = props.id,\n          brushDomain = props.brushDomain,\n          _props$datum = props.datum,\n          datum = _props$datum === void 0 ? {} : _props$datum,\n          _props$activeBrushes2 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes2 === void 0 ? {} : _props$activeBrushes2;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var handleDimensions = this.getHandleDimensions(props);\n\n      var style = _assign({}, fallbackProps.handleStyle, handleStyle);\n\n      var minDatum = _assign({\n        handleValue: Collection.getMinValue(brushDomain)\n      }, datum);\n\n      var maxDatum = _assign({\n        handleValue: Collection.getMaxValue(brushDomain)\n      }, datum);\n\n      var minHandleProps = _assign({\n        key: \"\".concat(id, \"-min\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: minDatum,\n          active: activeBrushes.minHandle\n        })\n      }, handleDimensions.min);\n\n      var maxHandleProps = _assign({\n        key: \"\".concat(id, \"-max\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: maxDatum,\n          active: activeBrushes.maxHandle\n        })\n      }, handleDimensions.max);\n\n      return [/*#__PURE__*/React.cloneElement(handleComponent, minHandleProps), /*#__PURE__*/React.cloneElement(handleComponent, maxHandleProps)];\n    }\n  }, {\n    key: \"renderBrush\",\n    value: function renderBrush(props) {\n      var brushComponent = props.brushComponent,\n          brushStyle = props.brushStyle,\n          _props$activeBrushes3 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes3 === void 0 ? {} : _props$activeBrushes3,\n          _props$datum2 = props.datum,\n          datum = _props$datum2 === void 0 ? {} : _props$datum2,\n          brushDomain = props.brushDomain;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var brushWidth = props.brushWidth || props.width;\n      var rectDimensions = this.getRectDimensions(props, brushWidth);\n\n      var baseStyle = _assign({}, fallbackProps.brushStyle, brushStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brush\n      });\n\n      var brushProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return /*#__PURE__*/React.cloneElement(brushComponent, brushProps);\n    }\n  }, {\n    key: \"renderBrushArea\",\n    value: function renderBrushArea(props) {\n      var brushAreaComponent = props.brushAreaComponent,\n          brushAreaStyle = props.brushAreaStyle,\n          _props$activeBrushes4 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes4 === void 0 ? {} : _props$activeBrushes4,\n          _props$datum3 = props.datum,\n          datum = _props$datum3 === void 0 ? {} : _props$datum3;\n      var brushAreaWidth = props.brushAreaWidth || props.width;\n      var cursor = this.getCursor(props);\n      var rectDimensions = this.getRectDimensions(props, brushAreaWidth, getFullDomain(props));\n\n      var baseStyle = _assign({\n        cursor: cursor\n      }, fallbackProps.brushAreaStyle, brushAreaStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brushArea\n      });\n\n      var brushAreaProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return /*#__PURE__*/React.cloneElement(brushAreaComponent, brushAreaProps);\n    }\n  }, {\n    key: \"renderLine\",\n    value: function renderLine(props) {\n      var filteredProps = _pick(props, [\"x1\", \"x2\", \"y1\", \"y2\", \"datum\", \"scale\", \"active\", \"style\"]);\n\n      return /*#__PURE__*/React.cloneElement(props.lineComponent, filteredProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"g\", this.props.events, this.renderLine(this.props), this.renderBrushArea(this.props), this.renderBrush(this.props), this.renderHandles(this.props));\n    }\n  }]);\n\n  return VictoryBrushLine;\n}(React.Component);\n\nVictoryBrushLine.propTypes = {\n  allowDrag: PropTypes.bool,\n  allowDraw: PropTypes.bool,\n  allowResize: PropTypes.bool,\n  brushAreaComponent: PropTypes.element,\n  brushAreaStyle: PropTypes.object,\n  brushAreaWidth: PropTypes.number,\n  brushComponent: PropTypes.element,\n  brushDimension: PropTypes.oneOf([\"x\", \"y\"]),\n  brushDomain: PropTypes.array,\n  brushStyle: PropTypes.object,\n  brushWidth: PropTypes.number,\n  className: PropTypes.string,\n  dimension: PropTypes.oneOf([\"x\", \"y\"]),\n  disable: PropTypes.bool,\n  events: PropTypes.object,\n  groupComponent: PropTypes.element,\n  handleComponent: PropTypes.element,\n  handleStyle: PropTypes.object,\n  handleWidth: PropTypes.number,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  lineComponent: PropTypes.element,\n  name: PropTypes.string,\n  onBrushDomainChange: PropTypes.func,\n  scale: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  width: PropTypes.number\n};\nVictoryBrushLine.defaultProps = {\n  allowDrag: true,\n  allowDraw: true,\n  allowResize: true,\n  brushAreaComponent: /*#__PURE__*/React.createElement(Box, null),\n  brushComponent: /*#__PURE__*/React.createElement(Box, null),\n  groupComponent: /*#__PURE__*/React.createElement(\"g\", null),\n  handleComponent: /*#__PURE__*/React.createElement(Box, null),\n  handleWidth: 10,\n  lineComponent: /*#__PURE__*/React.createElement(LineSegment, null),\n  width: 10\n};\n\nVictoryBrushLine.defaultEvents = function (props) {\n  return props.disable ? undefined : [{\n    target: props.type,\n    eventHandlers: {\n      onMouseEnter: function onMouseEnter(evt, targetProps) {\n        evt.preventDefault();\n        var allowResize = targetProps.allowResize,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps);\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var fullDomain = getFullDomain(targetProps);\n        var currentDomain = getBrushDomain(brushDomain, fullDomain);\n        var range = toRange(targetProps, currentDomain);\n        var activeHandle = allowResize && getActiveHandle(targetProps, position, range);\n        var activeBrushes = {\n          brushArea: !targetProps.brushDomain,\n          brush: withinBound(position, range) && !isEqual(fullDomain, currentDomain),\n          minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n          maxHandle: activeHandle === \"min\" || activeHandle === \"both\"\n        };\n        return [{\n          mutation: function mutation() {\n            return {\n              activeBrushes: activeBrushes,\n              brushDomain: targetProps.brushDomain,\n              parentSVG: parentSVG\n            };\n          }\n        }];\n      },\n      onMouseDown: function onMouseDown(evt, targetProps) {\n        evt.preventDefault();\n        var allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            allowDraw = targetProps.allowDraw,\n            activeBrushes = targetProps.activeBrushes,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps); // Don't trigger events for static brushes\n\n        if (!allowResize && !allowDrag) {\n          return [];\n        }\n\n        var fullDomain = getFullDomain(targetProps);\n        var currentDomain = getBrushDomain(brushDomain, fullDomain);\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var range = toRange(targetProps, currentDomain);\n        var activeHandle = allowResize && getActiveHandle(targetProps, position, range); // If the event occurs in any of the handle regions, start a resize\n\n        if (activeHandle) {\n          return [{\n            mutation: function mutation() {\n              return {\n                parentSVG: parentSVG,\n                isSelecting: true,\n                activeHandle: activeHandle,\n                brushDomain: currentDomain,\n                startPosition: position,\n                activeBrushes: activeBrushes\n              };\n            }\n          }];\n        } else if (withinBound(position, range) && !isEqual(fullDomain, currentDomain)) {\n          // if the event occurs within a selected region start a panning event, unless the whole\n          // domain is selected\n          return [{\n            mutation: function mutation() {\n              return {\n                isPanning: allowDrag,\n                startPosition: position,\n                brushDomain: currentDomain,\n                activeBrushes: activeBrushes,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        } else {\n          // if the event occurs outside the region, or if the whole domain is selected,\n          // start a new selection\n          return allowDraw ? [{\n            mutation: function mutation() {\n              return {\n                isSelecting: allowResize,\n                brushDomain: null,\n                startPosition: position,\n                activeBrushes: activeBrushes,\n                parentSVG: parentSVG\n              };\n            }\n          }] : [];\n        }\n      },\n      // eslint-disable-next-line max-statements, complexity\n      onMouseMove: function onMouseMove(evt, targetProps) {\n        var isPanning = targetProps.isPanning,\n            isSelecting = targetProps.isSelecting,\n            allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps);\n\n        if (isPanning || isSelecting) {\n          evt.preventDefault();\n          evt.stopPropagation();\n        }\n\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var fullDomain = getFullDomain(targetProps);\n        var domain = getBrushDomain(brushDomain, fullDomain);\n        var initialRange = toRange(targetProps, domain);\n        var activeHandle = getActiveHandle(targetProps, position, initialRange);\n        var activeBrushes = {\n          brushArea: !targetProps.brushDomain,\n          brush: withinBound(position, initialRange) && !isEqual(fullDomain, domain),\n          minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n          maxHandle: activeHandle === \"max\" || activeHandle === \"both\"\n        };\n\n        if (!targetProps.isPanning && !targetProps.isSelecting) {\n          return [{\n            mutation: function mutation() {\n              return {\n                activeBrushes: activeBrushes,\n                brushDomain: targetProps.brushDomain,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        }\n\n        if (allowDrag && isPanning) {\n          var fullRange = getFullRange(targetProps);\n          var range = panBox(targetProps, position);\n          var currentDomain = toDomain(targetProps, range);\n          var startPosition = Math.max.apply(Math, _toConsumableArray(range)) >= Math.max.apply(Math, _toConsumableArray(fullRange)) || Math.min.apply(Math, _toConsumableArray(range)) <= Math.min.apply(Math, _toConsumableArray(fullRange)) ? targetProps.startPosition : position;\n          var mutatedProps = {\n            startPosition: startPosition,\n            isPanning: true,\n            brushDomain: currentDomain,\n            activeBrushes: {\n              brush: true\n            },\n            parentSVG: parentSVG\n          };\n\n          if (_isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(currentDomain, _defaults({}, mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function mutation() {\n              return mutatedProps;\n            }\n          }];\n        } else if (allowResize && isSelecting) {\n          var _currentDomain = brushDomain || getMinimumDomain();\n\n          var _range = toRange(targetProps, _currentDomain);\n\n          var oppositeHandle = targetProps.activeHandle === \"min\" ? \"max\" : \"min\";\n          var handle = targetProps.activeHandle && getActiveHandle(targetProps, position, _range) === \"both\" ? oppositeHandle : targetProps.activeHandle;\n\n          if (!handle) {\n            _currentDomain = toDomain(targetProps, [targetProps.startPosition, position]);\n          } else {\n            var rangeMax = dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(_range)) : Math.min.apply(Math, _toConsumableArray(_range));\n            var rangeMin = dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(_range)) : Math.max.apply(Math, _toConsumableArray(_range));\n            var min = handle === \"max\" ? rangeMin : position;\n            var max = handle === \"min\" ? rangeMax : position;\n            _currentDomain = toDomain(targetProps, [min, max]);\n          }\n\n          var _mutatedProps = {\n            brushDomain: _currentDomain,\n            startPosition: targetProps.startPosition,\n            isSelecting: isSelecting,\n            activeHandle: handle,\n            parentSVG: parentSVG,\n            activeBrushes: {\n              brush: true,\n              minHandle: activeHandle === \"min\",\n              maxHandle: activeHandle === \"max\"\n            }\n          };\n\n          if (_isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(_currentDomain, _defaults({}, _mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function mutation() {\n              return _mutatedProps;\n            }\n          }];\n        }\n\n        return [];\n      },\n      onMouseUp: function onMouseUp(evt, targetProps) {\n        var onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain,\n            allowResize = targetProps.allowResize,\n            activeBrushes = targetProps.activeBrushes; // if the mouse hasn't moved since a mouseDown event, select the whole domain region\n\n        var mutatedProps = {\n          isPanning: false,\n          isSelecting: false,\n          activeHandle: null,\n          startPosition: null,\n          brushDomain: brushDomain,\n          activeBrushes: activeBrushes\n        };\n\n        if (allowResize && _isFunction(onBrushDomainChange)) {\n          onBrushDomainChange(brushDomain, _defaults({}, mutatedProps, targetProps));\n        }\n\n        return [{\n          mutation: function mutation() {\n            return mutatedProps;\n          }\n        }];\n      },\n      onMouseLeave: function onMouseLeave(evt, targetProps) {\n        var brushDomain = targetProps.brushDomain;\n        return [{\n          mutation: function mutation() {\n            return {\n              isPanning: false,\n              isSelecting: false,\n              activeHandle: null,\n              startPosition: null,\n              brushDomain: brushDomain,\n              activeBrushes: {}\n            };\n          }\n        }];\n      }\n    }\n  }];\n};\n\nexport { VictoryBrushLine as default };","map":{"version":3,"names":["_pick","_isFunction","_defaults","_assign","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","n","toString","slice","name","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","React","PropTypes","Selection","Helpers","Collection","LineSegment","Scale","Domain","Box","isEqual","SMALL_NUMBER","Number","MAX_SAFE_INTEGER","getScale","_props$scale","scale","_props$dimension","dimension","fallbackScale","getBaseScale","range","getRange","domain","getDomainFromProps","getDimension","horizontal","_props$dimension2","toRange","Math","min","max","toDomain","invert","getFullRange","getFullDomain","withinBound","bound","getMinValue","getMaxValue","getBrushDomain","brushDomain","fullDomain","brushMin","brushMax","domainMin","domainMax","defaultMin","defaultMax","getActiveHandle","position","width","handleWidth","getHandle","type","base","active","reduce","memo","undefined","getMinimumDomain","panBox","startPosition","fullRange","size","abs","globalMin","globalMax","delta","constrainedMin","constrainedMax","fallbackProps","brushAreaStyle","stroke","fill","opacity","_ref","brushStyle","pointerEvents","_ref2","handleStyle","VictoryBrushLine","_React$Component","_super","getRectDimensions","brushWidth","coordinates","y1","y2","x1","x2","offset","x","y","height","getHandleDimensions","defaultX","defaultY","getCursor","_props$activeBrushes","activeBrushes","minHandle","maxHandle","brush","renderHandles","handleComponent","id","_props$datum","datum","_props$activeBrushes2","handleDimensions","style","minDatum","handleValue","maxDatum","minHandleProps","concat","evaluateStyle","maxHandleProps","cloneElement","renderBrush","brushComponent","_props$activeBrushes3","_props$datum2","rectDimensions","baseStyle","brushProps","renderBrushArea","brushAreaComponent","_props$activeBrushes4","_props$datum3","brushAreaWidth","cursor","brushArea","brushAreaProps","renderLine","filteredProps","lineComponent","render","createElement","events","Component","propTypes","allowDrag","bool","allowDraw","allowResize","element","object","number","brushDimension","oneOf","array","className","string","disable","groupComponent","oneOfType","onBrushDomainChange","func","defaultProps","defaultEvents","eventHandlers","onMouseEnter","evt","targetProps","preventDefault","parentSVG","getParentSVG","getSVGEventCoordinates","currentDomain","activeHandle","mutation","onMouseDown","isSelecting","isPanning","onMouseMove","stopPropagation","initialRange","mutatedProps","_currentDomain","_range","oppositeHandle","handle","rangeMax","rangeMin","_mutatedProps","onMouseUp","onMouseLeave","default"],"sources":["/Users/angeloalcantara/Projects/Volleyball-Stat-Tracker/volleyball-stat-tracker-app/node_modules/victory-brush-line/es/victory-brush-line.js"],"sourcesContent":["import _pick from \"lodash/pick\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Selection, Helpers, Collection, LineSegment, Scale, Domain, Box } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar SMALL_NUMBER = 1 / Number.MAX_SAFE_INTEGER;\n\nvar getScale = function (props) {\n  var _props$scale = props.scale,\n      scale = _props$scale === void 0 ? {} : _props$scale,\n      _props$dimension = props.dimension,\n      dimension = _props$dimension === void 0 ? \"x\" : _props$dimension;\n\n  if (scale[dimension]) {\n    return scale[dimension];\n  }\n\n  var fallbackScale = Scale.getBaseScale(props, dimension);\n  var range = Helpers.getRange(props, dimension);\n  var domain = Domain.getDomainFromProps(props, dimension) || [0, 1];\n  fallbackScale.range(range).domain(domain);\n  return fallbackScale;\n};\n\nvar getDimension = function (props) {\n  var horizontal = props.horizontal,\n      _props$dimension2 = props.dimension,\n      dimension = _props$dimension2 === void 0 ? \"x\" : _props$dimension2;\n\n  if (!horizontal) {\n    return dimension;\n  }\n\n  return dimension === \"x\" ? \"y\" : \"x\";\n};\n\nvar toRange = function (props, domain) {\n  var scale = getScale(props);\n  return [scale(Math.min.apply(Math, _toConsumableArray(domain))), scale(Math.max.apply(Math, _toConsumableArray(domain)))];\n};\n\nvar toDomain = function (props, range) {\n  var scale = getScale(props);\n  return [scale.invert(Math.min.apply(Math, _toConsumableArray(range))), scale.invert(Math.max.apply(Math, _toConsumableArray(range)))];\n};\n\nvar getFullRange = function (props) {\n  var scale = getScale(props);\n  return scale.range();\n};\n\nvar getFullDomain = function (props) {\n  var scale = getScale(props);\n  return scale.domain();\n};\n\nvar withinBound = function (value, bound) {\n  return value >= Collection.getMinValue(bound) && value <= Collection.getMaxValue(bound);\n};\n\nvar getBrushDomain = function (brushDomain, fullDomain) {\n  if (brushDomain) {\n    var brushMin = Collection.getMinValue(brushDomain);\n    var brushMax = Collection.getMaxValue(brushDomain);\n    var domainMin = Collection.getMinValue(fullDomain);\n    var domainMax = Collection.getMaxValue(fullDomain);\n    var defaultMin = brushMin < domainMin ? domainMin : domainMax - SMALL_NUMBER;\n    var defaultMax = brushMax > domainMax ? domainMax : domainMin + SMALL_NUMBER;\n    var min = withinBound(brushMin, fullDomain) ? brushMin : defaultMin;\n    var max = withinBound(brushMax, fullDomain) ? brushMax : defaultMax;\n    return [min, max];\n  }\n\n  return fullDomain;\n};\n\nvar getActiveHandle = function (props, position, range) {\n  var width = props.handleWidth / 2;\n  var dimension = getDimension(props);\n\n  var getHandle = function (type) {\n    var base = {\n      min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) : Math.max.apply(Math, _toConsumableArray(range)),\n      max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) : Math.min.apply(Math, _toConsumableArray(range))\n    };\n    return [base[type] - width, base[type] + width];\n  };\n\n  var active = [\"min\", \"max\"].reduce(function (memo, type) {\n    memo[type] = withinBound(position, getHandle(type)) ? type : undefined;\n    return memo;\n  }, {});\n  return active.min && active.max ? \"both\" : active.min || active.max;\n};\n\nvar getMinimumDomain = function () {\n  return [0, SMALL_NUMBER];\n};\n\nvar panBox = function (props, position) {\n  var brushDomain = props.brushDomain,\n      startPosition = props.startPosition;\n  var range = toRange(props, brushDomain);\n  var fullRange = getFullRange(props);\n  var size = Math.abs(range[1] - range[0]);\n  var globalMin = Math.min.apply(Math, _toConsumableArray(fullRange));\n  var globalMax = Math.max.apply(Math, _toConsumableArray(fullRange));\n  var delta = startPosition ? startPosition - position : 0;\n  var min = Math.min.apply(Math, _toConsumableArray(range)) - delta;\n  var max = Math.max.apply(Math, _toConsumableArray(range)) - delta;\n  var constrainedMin = min > globalMax - size ? globalMax - size : Math.max(min, globalMin);\n  var constrainedMax = max < globalMin + size ? globalMin + size : Math.min(max, globalMax);\n  return [constrainedMin, constrainedMax];\n};\n\nvar fallbackProps = {\n  brushAreaStyle: {\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function (_ref) {\n      var active = _ref.active;\n      return active ? 0.2 : 0.1;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  brushStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function (_ref2) {\n      var active = _ref2.active;\n      return active ? 0.4 : 0.3;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  handleStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"none\"\n  }\n};\n\nvar VictoryBrushLine = /*#__PURE__*/function (_React$Component) {\n  _inherits(VictoryBrushLine, _React$Component);\n\n  var _super = _createSuper(VictoryBrushLine);\n\n  function VictoryBrushLine() {\n    _classCallCheck(this, VictoryBrushLine);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(VictoryBrushLine, [{\n    key: \"getRectDimensions\",\n    value: function getRectDimensions(props, brushWidth, domain) {\n      var brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      domain = domain || getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var coordinates = dimension === \"x\" ? {\n        y1: props.y1,\n        y2: props.y2,\n        x1: Math.min.apply(Math, _toConsumableArray(range)),\n        x2: Math.max.apply(Math, _toConsumableArray(range))\n      } : {\n        x1: props.x1,\n        x2: props.x2,\n        y1: Math.min.apply(Math, _toConsumableArray(range)),\n        y2: Math.max.apply(Math, _toConsumableArray(range))\n      };\n      var x1 = coordinates.x1,\n          x2 = coordinates.x2,\n          y1 = coordinates.y1,\n          y2 = coordinates.y2;\n      var offset = {\n        x: dimension === \"x\" ? 0 : brushWidth / 2,\n        y: dimension === \"y\" ? 0 : brushWidth / 2\n      };\n      var x = Math.min(x1, x2) - offset.x;\n      var y = Math.min(y1, y2) - offset.y;\n      var width = Math.max(x1, x2) + offset.x - x;\n      var height = Math.max(y1, y2) + offset.y - y;\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"getHandleDimensions\",\n    value: function getHandleDimensions(props) {\n      var handleWidth = props.handleWidth,\n          x1 = props.x1,\n          x2 = props.x2,\n          y1 = props.y1,\n          y2 = props.y2,\n          brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      var brushWidth = props.brushWidth || props.width;\n      var domain = getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var defaultX = Math.min(x1, x2) - brushWidth / 2;\n      var defaultY = Math.min(y1, y2) - brushWidth / 2;\n      var x = {\n        min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX,\n        max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX\n      };\n      var y = {\n        min: dimension === \"y\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY,\n        max: dimension === \"y\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY\n      };\n      var width = dimension === \"x\" ? handleWidth : brushWidth;\n      var height = dimension === \"x\" ? brushWidth : handleWidth;\n      return {\n        min: {\n          x: x.min,\n          y: y.min,\n          width: width,\n          height: height\n        },\n        max: {\n          x: x.max,\n          y: y.max,\n          width: width,\n          height: height\n        }\n      };\n    }\n  }, {\n    key: \"getCursor\",\n    value: function getCursor(props) {\n      var _props$activeBrushes = props.activeBrushes,\n          activeBrushes = _props$activeBrushes === void 0 ? {} : _props$activeBrushes;\n      var dimension = getDimension(props);\n\n      if (activeBrushes.minHandle || activeBrushes.maxHandle) {\n        return dimension === \"x\" ? \"ew-resize\" : \"ns-resize\";\n      } else if (activeBrushes.brush) {\n        return \"move\";\n      }\n\n      return \"crosshair\";\n    }\n  }, {\n    key: \"renderHandles\",\n    value: function renderHandles(props) {\n      var handleComponent = props.handleComponent,\n          handleStyle = props.handleStyle,\n          id = props.id,\n          brushDomain = props.brushDomain,\n          _props$datum = props.datum,\n          datum = _props$datum === void 0 ? {} : _props$datum,\n          _props$activeBrushes2 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes2 === void 0 ? {} : _props$activeBrushes2;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var handleDimensions = this.getHandleDimensions(props);\n\n      var style = _assign({}, fallbackProps.handleStyle, handleStyle);\n\n      var minDatum = _assign({\n        handleValue: Collection.getMinValue(brushDomain)\n      }, datum);\n\n      var maxDatum = _assign({\n        handleValue: Collection.getMaxValue(brushDomain)\n      }, datum);\n\n      var minHandleProps = _assign({\n        key: \"\".concat(id, \"-min\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: minDatum,\n          active: activeBrushes.minHandle\n        })\n      }, handleDimensions.min);\n\n      var maxHandleProps = _assign({\n        key: \"\".concat(id, \"-max\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: maxDatum,\n          active: activeBrushes.maxHandle\n        })\n      }, handleDimensions.max);\n\n      return [/*#__PURE__*/React.cloneElement(handleComponent, minHandleProps), /*#__PURE__*/React.cloneElement(handleComponent, maxHandleProps)];\n    }\n  }, {\n    key: \"renderBrush\",\n    value: function renderBrush(props) {\n      var brushComponent = props.brushComponent,\n          brushStyle = props.brushStyle,\n          _props$activeBrushes3 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes3 === void 0 ? {} : _props$activeBrushes3,\n          _props$datum2 = props.datum,\n          datum = _props$datum2 === void 0 ? {} : _props$datum2,\n          brushDomain = props.brushDomain;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var brushWidth = props.brushWidth || props.width;\n      var rectDimensions = this.getRectDimensions(props, brushWidth);\n\n      var baseStyle = _assign({}, fallbackProps.brushStyle, brushStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brush\n      });\n\n      var brushProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return /*#__PURE__*/React.cloneElement(brushComponent, brushProps);\n    }\n  }, {\n    key: \"renderBrushArea\",\n    value: function renderBrushArea(props) {\n      var brushAreaComponent = props.brushAreaComponent,\n          brushAreaStyle = props.brushAreaStyle,\n          _props$activeBrushes4 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes4 === void 0 ? {} : _props$activeBrushes4,\n          _props$datum3 = props.datum,\n          datum = _props$datum3 === void 0 ? {} : _props$datum3;\n      var brushAreaWidth = props.brushAreaWidth || props.width;\n      var cursor = this.getCursor(props);\n      var rectDimensions = this.getRectDimensions(props, brushAreaWidth, getFullDomain(props));\n\n      var baseStyle = _assign({\n        cursor: cursor\n      }, fallbackProps.brushAreaStyle, brushAreaStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brushArea\n      });\n\n      var brushAreaProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return /*#__PURE__*/React.cloneElement(brushAreaComponent, brushAreaProps);\n    }\n  }, {\n    key: \"renderLine\",\n    value: function renderLine(props) {\n      var filteredProps = _pick(props, [\"x1\", \"x2\", \"y1\", \"y2\", \"datum\", \"scale\", \"active\", \"style\"]);\n\n      return /*#__PURE__*/React.cloneElement(props.lineComponent, filteredProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"g\", this.props.events, this.renderLine(this.props), this.renderBrushArea(this.props), this.renderBrush(this.props), this.renderHandles(this.props));\n    }\n  }]);\n\n  return VictoryBrushLine;\n}(React.Component);\n\nVictoryBrushLine.propTypes = {\n  allowDrag: PropTypes.bool,\n  allowDraw: PropTypes.bool,\n  allowResize: PropTypes.bool,\n  brushAreaComponent: PropTypes.element,\n  brushAreaStyle: PropTypes.object,\n  brushAreaWidth: PropTypes.number,\n  brushComponent: PropTypes.element,\n  brushDimension: PropTypes.oneOf([\"x\", \"y\"]),\n  brushDomain: PropTypes.array,\n  brushStyle: PropTypes.object,\n  brushWidth: PropTypes.number,\n  className: PropTypes.string,\n  dimension: PropTypes.oneOf([\"x\", \"y\"]),\n  disable: PropTypes.bool,\n  events: PropTypes.object,\n  groupComponent: PropTypes.element,\n  handleComponent: PropTypes.element,\n  handleStyle: PropTypes.object,\n  handleWidth: PropTypes.number,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  lineComponent: PropTypes.element,\n  name: PropTypes.string,\n  onBrushDomainChange: PropTypes.func,\n  scale: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  width: PropTypes.number\n};\nVictoryBrushLine.defaultProps = {\n  allowDrag: true,\n  allowDraw: true,\n  allowResize: true,\n  brushAreaComponent: /*#__PURE__*/React.createElement(Box, null),\n  brushComponent: /*#__PURE__*/React.createElement(Box, null),\n  groupComponent: /*#__PURE__*/React.createElement(\"g\", null),\n  handleComponent: /*#__PURE__*/React.createElement(Box, null),\n  handleWidth: 10,\n  lineComponent: /*#__PURE__*/React.createElement(LineSegment, null),\n  width: 10\n};\n\nVictoryBrushLine.defaultEvents = function (props) {\n  return props.disable ? undefined : [{\n    target: props.type,\n    eventHandlers: {\n      onMouseEnter: function (evt, targetProps) {\n        evt.preventDefault();\n        var allowResize = targetProps.allowResize,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps);\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var fullDomain = getFullDomain(targetProps);\n        var currentDomain = getBrushDomain(brushDomain, fullDomain);\n        var range = toRange(targetProps, currentDomain);\n        var activeHandle = allowResize && getActiveHandle(targetProps, position, range);\n        var activeBrushes = {\n          brushArea: !targetProps.brushDomain,\n          brush: withinBound(position, range) && !isEqual(fullDomain, currentDomain),\n          minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n          maxHandle: activeHandle === \"min\" || activeHandle === \"both\"\n        };\n        return [{\n          mutation: function () {\n            return {\n              activeBrushes: activeBrushes,\n              brushDomain: targetProps.brushDomain,\n              parentSVG: parentSVG\n            };\n          }\n        }];\n      },\n      onMouseDown: function (evt, targetProps) {\n        evt.preventDefault();\n        var allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            allowDraw = targetProps.allowDraw,\n            activeBrushes = targetProps.activeBrushes,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps); // Don't trigger events for static brushes\n\n        if (!allowResize && !allowDrag) {\n          return [];\n        }\n\n        var fullDomain = getFullDomain(targetProps);\n        var currentDomain = getBrushDomain(brushDomain, fullDomain);\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var range = toRange(targetProps, currentDomain);\n        var activeHandle = allowResize && getActiveHandle(targetProps, position, range); // If the event occurs in any of the handle regions, start a resize\n\n        if (activeHandle) {\n          return [{\n            mutation: function () {\n              return {\n                parentSVG: parentSVG,\n                isSelecting: true,\n                activeHandle: activeHandle,\n                brushDomain: currentDomain,\n                startPosition: position,\n                activeBrushes: activeBrushes\n              };\n            }\n          }];\n        } else if (withinBound(position, range) && !isEqual(fullDomain, currentDomain)) {\n          // if the event occurs within a selected region start a panning event, unless the whole\n          // domain is selected\n          return [{\n            mutation: function () {\n              return {\n                isPanning: allowDrag,\n                startPosition: position,\n                brushDomain: currentDomain,\n                activeBrushes: activeBrushes,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        } else {\n          // if the event occurs outside the region, or if the whole domain is selected,\n          // start a new selection\n          return allowDraw ? [{\n            mutation: function () {\n              return {\n                isSelecting: allowResize,\n                brushDomain: null,\n                startPosition: position,\n                activeBrushes: activeBrushes,\n                parentSVG: parentSVG\n              };\n            }\n          }] : [];\n        }\n      },\n      // eslint-disable-next-line max-statements, complexity\n      onMouseMove: function (evt, targetProps) {\n        var isPanning = targetProps.isPanning,\n            isSelecting = targetProps.isSelecting,\n            allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps);\n\n        if (isPanning || isSelecting) {\n          evt.preventDefault();\n          evt.stopPropagation();\n        }\n\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var fullDomain = getFullDomain(targetProps);\n        var domain = getBrushDomain(brushDomain, fullDomain);\n        var initialRange = toRange(targetProps, domain);\n        var activeHandle = getActiveHandle(targetProps, position, initialRange);\n        var activeBrushes = {\n          brushArea: !targetProps.brushDomain,\n          brush: withinBound(position, initialRange) && !isEqual(fullDomain, domain),\n          minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n          maxHandle: activeHandle === \"max\" || activeHandle === \"both\"\n        };\n\n        if (!targetProps.isPanning && !targetProps.isSelecting) {\n          return [{\n            mutation: function () {\n              return {\n                activeBrushes: activeBrushes,\n                brushDomain: targetProps.brushDomain,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        }\n\n        if (allowDrag && isPanning) {\n          var fullRange = getFullRange(targetProps);\n          var range = panBox(targetProps, position);\n          var currentDomain = toDomain(targetProps, range);\n          var startPosition = Math.max.apply(Math, _toConsumableArray(range)) >= Math.max.apply(Math, _toConsumableArray(fullRange)) || Math.min.apply(Math, _toConsumableArray(range)) <= Math.min.apply(Math, _toConsumableArray(fullRange)) ? targetProps.startPosition : position;\n          var mutatedProps = {\n            startPosition: startPosition,\n            isPanning: true,\n            brushDomain: currentDomain,\n            activeBrushes: {\n              brush: true\n            },\n            parentSVG: parentSVG\n          };\n\n          if (_isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(currentDomain, _defaults({}, mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function () {\n              return mutatedProps;\n            }\n          }];\n        } else if (allowResize && isSelecting) {\n          var _currentDomain = brushDomain || getMinimumDomain();\n\n          var _range = toRange(targetProps, _currentDomain);\n\n          var oppositeHandle = targetProps.activeHandle === \"min\" ? \"max\" : \"min\";\n          var handle = targetProps.activeHandle && getActiveHandle(targetProps, position, _range) === \"both\" ? oppositeHandle : targetProps.activeHandle;\n\n          if (!handle) {\n            _currentDomain = toDomain(targetProps, [targetProps.startPosition, position]);\n          } else {\n            var rangeMax = dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(_range)) : Math.min.apply(Math, _toConsumableArray(_range));\n            var rangeMin = dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(_range)) : Math.max.apply(Math, _toConsumableArray(_range));\n            var min = handle === \"max\" ? rangeMin : position;\n            var max = handle === \"min\" ? rangeMax : position;\n            _currentDomain = toDomain(targetProps, [min, max]);\n          }\n\n          var _mutatedProps = {\n            brushDomain: _currentDomain,\n            startPosition: targetProps.startPosition,\n            isSelecting: isSelecting,\n            activeHandle: handle,\n            parentSVG: parentSVG,\n            activeBrushes: {\n              brush: true,\n              minHandle: activeHandle === \"min\",\n              maxHandle: activeHandle === \"max\"\n            }\n          };\n\n          if (_isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(_currentDomain, _defaults({}, _mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function () {\n              return _mutatedProps;\n            }\n          }];\n        }\n\n        return [];\n      },\n      onMouseUp: function (evt, targetProps) {\n        var onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain,\n            allowResize = targetProps.allowResize,\n            activeBrushes = targetProps.activeBrushes; // if the mouse hasn't moved since a mouseDown event, select the whole domain region\n\n        var mutatedProps = {\n          isPanning: false,\n          isSelecting: false,\n          activeHandle: null,\n          startPosition: null,\n          brushDomain: brushDomain,\n          activeBrushes: activeBrushes\n        };\n\n        if (allowResize && _isFunction(onBrushDomainChange)) {\n          onBrushDomainChange(brushDomain, _defaults({}, mutatedProps, targetProps));\n        }\n\n        return [{\n          mutation: function () {\n            return mutatedProps;\n          }\n        }];\n      },\n      onMouseLeave: function (evt, targetProps) {\n        var brushDomain = targetProps.brushDomain;\n        return [{\n          mutation: function () {\n            return {\n              isPanning: false,\n              isSelecting: false,\n              activeHandle: null,\n              startPosition: null,\n              brushDomain: brushDomain,\n              activeBrushes: {}\n            };\n          }\n        }];\n      }\n    }\n  }];\n};\n\nexport { VictoryBrushLine as default };\n//# sourceMappingURL=victory-brush-line.js.map"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,OAAP,MAAoB,eAApB;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;EAAE,IAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;IAAE,MAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;EAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;IAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;IAA2BE,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;IAAwDD,UAAU,CAACE,YAAX,GAA0B,IAA1B;IAAgC,IAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;IAA4BC,MAAM,CAACC,cAAP,CAAsBT,MAAtB,EAA8BI,UAAU,CAACM,GAAzC,EAA8CN,UAA9C;EAA4D;AAAE;;AAE7T,SAASO,YAAT,CAAsBd,WAAtB,EAAmCe,UAAnC,EAA+CC,WAA/C,EAA4D;EAAE,IAAID,UAAJ,EAAgBb,iBAAiB,CAACF,WAAW,CAACiB,SAAb,EAAwBF,UAAxB,CAAjB;EAAsD,IAAIC,WAAJ,EAAiBd,iBAAiB,CAACF,WAAD,EAAcgB,WAAd,CAAjB;EAA6CL,MAAM,CAACC,cAAP,CAAsBZ,WAAtB,EAAmC,WAAnC,EAAgD;IAAEU,QAAQ,EAAE;EAAZ,CAAhD;EAAsE,OAAOV,WAAP;AAAqB;;AAE7R,SAASkB,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;EAAE,IAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;IAAE,MAAM,IAAInB,SAAJ,CAAc,oDAAd,CAAN;EAA4E;;EAACkB,QAAQ,CAACF,SAAT,GAAqBN,MAAM,CAACU,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACH,SAAvC,EAAkD;IAAEK,WAAW,EAAE;MAAEC,KAAK,EAAEJ,QAAT;MAAmBT,QAAQ,EAAE,IAA7B;MAAmCD,YAAY,EAAE;IAAjD;EAAf,CAAlD,CAArB;EAAkJE,MAAM,CAACC,cAAP,CAAsBO,QAAtB,EAAgC,WAAhC,EAA6C;IAAET,QAAQ,EAAE;EAAZ,CAA7C;EAAmE,IAAIU,UAAJ,EAAgBI,eAAe,CAACL,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEpc,SAASI,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;EAAEF,eAAe,GAAGb,MAAM,CAACgB,cAAP,GAAwBhB,MAAM,CAACgB,cAAP,CAAsBC,IAAtB,EAAxB,GAAuD,SAASJ,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;IAAED,CAAC,CAACI,SAAF,GAAcH,CAAd;IAAiB,OAAOD,CAAP;EAAW,CAAtI;EAAwI,OAAOD,eAAe,CAACC,CAAD,EAAIC,CAAJ,CAAtB;AAA+B;;AAExM,SAASI,YAAT,CAAsBC,OAAtB,EAA+B;EAAE,IAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;EAA6D,OAAO,SAASC,oBAAT,GAAgC;IAAE,IAAIC,KAAK,GAAGC,eAAe,CAACL,OAAD,CAA3B;IAAA,IAAsCM,MAAtC;;IAA8C,IAAIL,yBAAJ,EAA+B;MAAE,IAAIM,SAAS,GAAGF,eAAe,CAAC,IAAD,CAAf,CAAsBd,WAAtC;;MAAmDe,MAAM,GAAGE,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBM,SAAzB,EAAoCH,SAApC,CAAT;IAA0D,CAA9I,MAAoJ;MAAED,MAAM,GAAGF,KAAK,CAACO,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;IAAwC;;IAAC,OAAOE,0BAA0B,CAAC,IAAD,EAAON,MAAP,CAAjC;EAAkD,CAAxU;AAA2U;;AAEza,SAASM,0BAAT,CAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;EAAE,IAAIA,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAR,EAAsE;IAAE,OAAOA,IAAP;EAAc,CAAtF,MAA4F,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;IAAE,MAAM,IAAI5C,SAAJ,CAAc,0DAAd,CAAN;EAAkF;;EAAC,OAAO6C,sBAAsB,CAACF,IAAD,CAA7B;AAAsC;;AAE9R,SAASE,sBAAT,CAAgCF,IAAhC,EAAsC;EAAE,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;IAAE,MAAM,IAAIG,cAAJ,CAAmB,2DAAnB,CAAN;EAAwF;;EAAC,OAAOH,IAAP;AAAc;;AAEtK,SAASX,yBAAT,GAAqC;EAAE,IAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;EAAc,IAAID,OAAO,CAACC,SAAR,CAAkBQ,IAAtB,EAA4B,OAAO,KAAP;EAAc,IAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;EAAa,IAAI;IAAEC,OAAO,CAACjC,SAAR,CAAkBkC,OAAlB,CAA0BN,IAA1B,CAA+BN,OAAO,CAACC,SAAR,CAAkBU,OAAlB,EAA2B,EAA3B,EAA+B,YAAY,CAAE,CAA7C,CAA/B;IAAgF,OAAO,IAAP;EAAc,CAApG,CAAqG,OAAOE,CAAP,EAAU;IAAE,OAAO,KAAP;EAAe;AAAE;;AAEzU,SAAShB,eAAT,CAAyBX,CAAzB,EAA4B;EAAEW,eAAe,GAAGzB,MAAM,CAACgB,cAAP,GAAwBhB,MAAM,CAAC0C,cAAP,CAAsBzB,IAAtB,EAAxB,GAAuD,SAASQ,eAAT,CAAyBX,CAAzB,EAA4B;IAAE,OAAOA,CAAC,CAACI,SAAF,IAAelB,MAAM,CAAC0C,cAAP,CAAsB5B,CAAtB,CAAtB;EAAiD,CAAxJ;EAA0J,OAAOW,eAAe,CAACX,CAAD,CAAtB;AAA4B;;AAEpN,SAAS6B,kBAAT,CAA4BC,GAA5B,EAAiC;EAAE,OAAOC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,2BAA2B,CAACH,GAAD,CAA/E,IAAwFI,kBAAkB,EAAjH;AAAsH;;AAEzJ,SAASA,kBAAT,GAA8B;EAAE,MAAM,IAAI1D,SAAJ,CAAc,sIAAd,CAAN;AAA8J;;AAE9L,SAASyD,2BAAT,CAAqCjC,CAArC,EAAwCmC,MAAxC,EAAgD;EAAE,IAAI,CAACnC,CAAL,EAAQ;EAAQ,IAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAOoC,iBAAiB,CAACpC,CAAD,EAAImC,MAAJ,CAAxB;EAAqC,IAAIE,CAAC,GAAGnD,MAAM,CAACM,SAAP,CAAiB8C,QAAjB,CAA0BlB,IAA1B,CAA+BpB,CAA/B,EAAkCuC,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;EAAwD,IAAIF,CAAC,KAAK,QAAN,IAAkBrC,CAAC,CAACH,WAAxB,EAAqCwC,CAAC,GAAGrC,CAAC,CAACH,WAAF,CAAc2C,IAAlB;EAAwB,IAAIH,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAAzB,EAAgC,OAAOI,KAAK,CAACC,IAAN,CAAW1C,CAAX,CAAP;EAAsB,IAAIqC,CAAC,KAAK,WAAN,IAAqB,2CAA2CM,IAA3C,CAAgDN,CAAhD,CAAzB,EAA6E,OAAOD,iBAAiB,CAACpC,CAAD,EAAImC,MAAJ,CAAxB;AAAsC;;AAEha,SAASH,gBAAT,CAA0BY,IAA1B,EAAgC;EAAE,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCD,IAAI,CAACC,MAAM,CAACC,QAAR,CAAJ,IAAyB,IAA1D,IAAkEF,IAAI,CAAC,YAAD,CAAJ,IAAsB,IAA5F,EAAkG,OAAOH,KAAK,CAACC,IAAN,CAAWE,IAAX,CAAP;AAA0B;;AAE9J,SAASb,kBAAT,CAA4BD,GAA5B,EAAiC;EAAE,IAAIW,KAAK,CAACM,OAAN,CAAcjB,GAAd,CAAJ,EAAwB,OAAOM,iBAAiB,CAACN,GAAD,CAAxB;AAAgC;;AAE3F,SAASM,iBAAT,CAA2BN,GAA3B,EAAgCkB,GAAhC,EAAqC;EAAE,IAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAGlB,GAAG,CAACjD,MAA7B,EAAqCmE,GAAG,GAAGlB,GAAG,CAACjD,MAAV;;EAAkB,KAAK,IAAID,CAAC,GAAG,CAAR,EAAWqE,IAAI,GAAG,IAAIR,KAAJ,CAAUO,GAAV,CAAvB,EAAuCpE,CAAC,GAAGoE,GAA3C,EAAgDpE,CAAC,EAAjD,EAAqD;IAAEqE,IAAI,CAACrE,CAAD,CAAJ,GAAUkD,GAAG,CAAClD,CAAD,CAAb;EAAmB;;EAAC,OAAOqE,IAAP;AAAc;;AAEvL,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,EAAoBC,OAApB,EAA6BC,UAA7B,EAAyCC,WAAzC,EAAsDC,KAAtD,EAA6DC,MAA7D,EAAqEC,GAArE,QAAgF,cAAhF;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,IAAIC,YAAY,GAAG,IAAIC,MAAM,CAACC,gBAA9B;;AAEA,IAAIC,QAAQ,GAAG,SAAXA,QAAW,CAAUpF,KAAV,EAAiB;EAC9B,IAAIqF,YAAY,GAAGrF,KAAK,CAACsF,KAAzB;EAAA,IACIA,KAAK,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0B,EAA1B,GAA+BA,YAD3C;EAAA,IAEIE,gBAAgB,GAAGvF,KAAK,CAACwF,SAF7B;EAAA,IAGIA,SAAS,GAAGD,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,GAA9B,GAAoCA,gBAHpD;;EAKA,IAAID,KAAK,CAACE,SAAD,CAAT,EAAsB;IACpB,OAAOF,KAAK,CAACE,SAAD,CAAZ;EACD;;EAED,IAAIC,aAAa,GAAGZ,KAAK,CAACa,YAAN,CAAmB1F,KAAnB,EAA0BwF,SAA1B,CAApB;EACA,IAAIG,KAAK,GAAGjB,OAAO,CAACkB,QAAR,CAAiB5F,KAAjB,EAAwBwF,SAAxB,CAAZ;EACA,IAAIK,MAAM,GAAGf,MAAM,CAACgB,kBAAP,CAA0B9F,KAA1B,EAAiCwF,SAAjC,KAA+C,CAAC,CAAD,EAAI,CAAJ,CAA5D;EACAC,aAAa,CAACE,KAAd,CAAoBA,KAApB,EAA2BE,MAA3B,CAAkCA,MAAlC;EACA,OAAOJ,aAAP;AACD,CAfD;;AAiBA,IAAIM,YAAY,GAAG,SAAfA,YAAe,CAAU/F,KAAV,EAAiB;EAClC,IAAIgG,UAAU,GAAGhG,KAAK,CAACgG,UAAvB;EAAA,IACIC,iBAAiB,GAAGjG,KAAK,CAACwF,SAD9B;EAAA,IAEIA,SAAS,GAAGS,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,GAA/B,GAAqCA,iBAFrD;;EAIA,IAAI,CAACD,UAAL,EAAiB;IACf,OAAOR,SAAP;EACD;;EAED,OAAOA,SAAS,KAAK,GAAd,GAAoB,GAApB,GAA0B,GAAjC;AACD,CAVD;;AAYA,IAAIU,OAAO,GAAG,SAAVA,OAAU,CAAUlG,KAAV,EAAiB6F,MAAjB,EAAyB;EACrC,IAAIP,KAAK,GAAGF,QAAQ,CAACpF,KAAD,CAApB;EACA,OAAO,CAACsF,KAAK,CAACa,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAAC2C,MAAD,CAAvC,CAAD,CAAN,EAA0DP,KAAK,CAACa,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAAC2C,MAAD,CAAvC,CAAD,CAA/D,CAAP;AACD,CAHD;;AAKA,IAAIS,QAAQ,GAAG,SAAXA,QAAW,CAAUtG,KAAV,EAAiB2F,KAAjB,EAAwB;EACrC,IAAIL,KAAK,GAAGF,QAAQ,CAACpF,KAAD,CAApB;EACA,OAAO,CAACsF,KAAK,CAACiB,MAAN,CAAaJ,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,CAAb,CAAD,EAAgEL,KAAK,CAACiB,MAAN,CAAaJ,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,CAAb,CAAhE,CAAP;AACD,CAHD;;AAKA,IAAIa,YAAY,GAAG,SAAfA,YAAe,CAAUxG,KAAV,EAAiB;EAClC,IAAIsF,KAAK,GAAGF,QAAQ,CAACpF,KAAD,CAApB;EACA,OAAOsF,KAAK,CAACK,KAAN,EAAP;AACD,CAHD;;AAKA,IAAIc,aAAa,GAAG,SAAhBA,aAAgB,CAAUzG,KAAV,EAAiB;EACnC,IAAIsF,KAAK,GAAGF,QAAQ,CAACpF,KAAD,CAApB;EACA,OAAOsF,KAAK,CAACO,MAAN,EAAP;AACD,CAHD;;AAKA,IAAIa,WAAW,GAAG,SAAdA,WAAc,CAAUvF,KAAV,EAAiBwF,KAAjB,EAAwB;EACxC,OAAOxF,KAAK,IAAIwD,UAAU,CAACiC,WAAX,CAAuBD,KAAvB,CAAT,IAA0CxF,KAAK,IAAIwD,UAAU,CAACkC,WAAX,CAAuBF,KAAvB,CAA1D;AACD,CAFD;;AAIA,IAAIG,cAAc,GAAG,SAAjBA,cAAiB,CAAUC,WAAV,EAAuBC,UAAvB,EAAmC;EACtD,IAAID,WAAJ,EAAiB;IACf,IAAIE,QAAQ,GAAGtC,UAAU,CAACiC,WAAX,CAAuBG,WAAvB,CAAf;IACA,IAAIG,QAAQ,GAAGvC,UAAU,CAACkC,WAAX,CAAuBE,WAAvB,CAAf;IACA,IAAII,SAAS,GAAGxC,UAAU,CAACiC,WAAX,CAAuBI,UAAvB,CAAhB;IACA,IAAII,SAAS,GAAGzC,UAAU,CAACkC,WAAX,CAAuBG,UAAvB,CAAhB;IACA,IAAIK,UAAU,GAAGJ,QAAQ,GAAGE,SAAX,GAAuBA,SAAvB,GAAmCC,SAAS,GAAGnC,YAAhE;IACA,IAAIqC,UAAU,GAAGJ,QAAQ,GAAGE,SAAX,GAAuBA,SAAvB,GAAmCD,SAAS,GAAGlC,YAAhE;IACA,IAAImB,GAAG,GAAGM,WAAW,CAACO,QAAD,EAAWD,UAAX,CAAX,GAAoCC,QAApC,GAA+CI,UAAzD;IACA,IAAIhB,GAAG,GAAGK,WAAW,CAACQ,QAAD,EAAWF,UAAX,CAAX,GAAoCE,QAApC,GAA+CI,UAAzD;IACA,OAAO,CAAClB,GAAD,EAAMC,GAAN,CAAP;EACD;;EAED,OAAOW,UAAP;AACD,CAdD;;AAgBA,IAAIO,eAAe,GAAG,SAAlBA,eAAkB,CAAUvH,KAAV,EAAiBwH,QAAjB,EAA2B7B,KAA3B,EAAkC;EACtD,IAAI8B,KAAK,GAAGzH,KAAK,CAAC0H,WAAN,GAAoB,CAAhC;EACA,IAAIlC,SAAS,GAAGO,YAAY,CAAC/F,KAAD,CAA5B;;EAEA,IAAI2H,SAAS,GAAG,SAAZA,SAAY,CAAUC,IAAV,EAAgB;IAC9B,IAAIC,IAAI,GAAG;MACTzB,GAAG,EAAEZ,SAAS,KAAK,GAAd,GAAoBW,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,CAApB,GAAsEQ,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,CADlE;MAETU,GAAG,EAAEb,SAAS,KAAK,GAAd,GAAoBW,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,CAApB,GAAsEQ,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC;IAFlE,CAAX;IAIA,OAAO,CAACkC,IAAI,CAACD,IAAD,CAAJ,GAAaH,KAAd,EAAqBI,IAAI,CAACD,IAAD,CAAJ,GAAaH,KAAlC,CAAP;EACD,CAND;;EAQA,IAAIK,MAAM,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAeC,MAAf,CAAsB,UAAUC,IAAV,EAAgBJ,IAAhB,EAAsB;IACvDI,IAAI,CAACJ,IAAD,CAAJ,GAAalB,WAAW,CAACc,QAAD,EAAWG,SAAS,CAACC,IAAD,CAApB,CAAX,GAAyCA,IAAzC,GAAgDK,SAA7D;IACA,OAAOD,IAAP;EACD,CAHY,EAGV,EAHU,CAAb;EAIA,OAAOF,MAAM,CAAC1B,GAAP,IAAc0B,MAAM,CAACzB,GAArB,GAA2B,MAA3B,GAAoCyB,MAAM,CAAC1B,GAAP,IAAc0B,MAAM,CAACzB,GAAhE;AACD,CAjBD;;AAmBA,IAAI6B,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAY;EACjC,OAAO,CAAC,CAAD,EAAIjD,YAAJ,CAAP;AACD,CAFD;;AAIA,IAAIkD,MAAM,GAAG,SAATA,MAAS,CAAUnI,KAAV,EAAiBwH,QAAjB,EAA2B;EACtC,IAAIT,WAAW,GAAG/G,KAAK,CAAC+G,WAAxB;EAAA,IACIqB,aAAa,GAAGpI,KAAK,CAACoI,aAD1B;EAEA,IAAIzC,KAAK,GAAGO,OAAO,CAAClG,KAAD,EAAQ+G,WAAR,CAAnB;EACA,IAAIsB,SAAS,GAAG7B,YAAY,CAACxG,KAAD,CAA5B;EACA,IAAIsI,IAAI,GAAGnC,IAAI,CAACoC,GAAL,CAAS5C,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAzB,CAAX;EACA,IAAI6C,SAAS,GAAGrC,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACmF,SAAD,CAAvC,CAAhB;EACA,IAAII,SAAS,GAAGtC,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACmF,SAAD,CAAvC,CAAhB;EACA,IAAIK,KAAK,GAAGN,aAAa,GAAGA,aAAa,GAAGZ,QAAnB,GAA8B,CAAvD;EACA,IAAIpB,GAAG,GAAGD,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,IAAkD+C,KAA5D;EACA,IAAIrC,GAAG,GAAGF,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,IAAkD+C,KAA5D;EACA,IAAIC,cAAc,GAAGvC,GAAG,GAAGqC,SAAS,GAAGH,IAAlB,GAAyBG,SAAS,GAAGH,IAArC,GAA4CnC,IAAI,CAACE,GAAL,CAASD,GAAT,EAAcoC,SAAd,CAAjE;EACA,IAAII,cAAc,GAAGvC,GAAG,GAAGmC,SAAS,GAAGF,IAAlB,GAAyBE,SAAS,GAAGF,IAArC,GAA4CnC,IAAI,CAACC,GAAL,CAASC,GAAT,EAAcoC,SAAd,CAAjE;EACA,OAAO,CAACE,cAAD,EAAiBC,cAAjB,CAAP;AACD,CAdD;;AAgBA,IAAIC,aAAa,GAAG;EAClBC,cAAc,EAAE;IACdC,MAAM,EAAE,MADM;IAEdC,IAAI,EAAE,OAFQ;IAGdC,OAAO,EAAE,iBAAUC,IAAV,EAAgB;MACvB,IAAIpB,MAAM,GAAGoB,IAAI,CAACpB,MAAlB;MACA,OAAOA,MAAM,GAAG,GAAH,GAAS,GAAtB;IACD,CANa,CAMZ;;EANY,CADE;EAUlBqB,UAAU,EAAE;IACVC,aAAa,EAAE,MADL;IAEVL,MAAM,EAAE,MAFE;IAGVC,IAAI,EAAE,OAHI;IAIVC,OAAO,EAAE,iBAAUI,KAAV,EAAiB;MACxB,IAAIvB,MAAM,GAAGuB,KAAK,CAACvB,MAAnB;MACA,OAAOA,MAAM,GAAG,GAAH,GAAS,GAAtB;IACD,CAPS,CAOR;;EAPQ,CAVM;EAoBlBwB,WAAW,EAAE;IACXF,aAAa,EAAE,MADJ;IAEXL,MAAM,EAAE,MAFG;IAGXC,IAAI,EAAE;EAHK;AApBK,CAApB;;AA2BA,IAAIO,gBAAgB,GAAG,aAAa,UAAUC,gBAAV,EAA4B;EAC9D1I,SAAS,CAACyI,gBAAD,EAAmBC,gBAAnB,CAAT;;EAEA,IAAIC,MAAM,GAAG/H,YAAY,CAAC6H,gBAAD,CAAzB;;EAEA,SAASA,gBAAT,GAA4B;IAC1B7J,eAAe,CAAC,IAAD,EAAO6J,gBAAP,CAAf;;IAEA,OAAOE,MAAM,CAACnH,KAAP,CAAa,IAAb,EAAmBD,SAAnB,CAAP;EACD;;EAED3B,YAAY,CAAC6I,gBAAD,EAAmB,CAAC;IAC9B9I,GAAG,EAAE,mBADyB;IAE9BU,KAAK,EAAE,SAASuI,iBAAT,CAA2B1J,KAA3B,EAAkC2J,UAAlC,EAA8C9D,MAA9C,EAAsD;MAC3D,IAAIkB,WAAW,GAAG/G,KAAK,CAAC+G,WAAxB;MACA,IAAIvB,SAAS,GAAGO,YAAY,CAAC/F,KAAD,CAA5B;MACA6F,MAAM,GAAGA,MAAM,IAAIiB,cAAc,CAACC,WAAD,EAAcN,aAAa,CAACzG,KAAD,CAA3B,CAAjC;MACA,IAAI2F,KAAK,GAAGO,OAAO,CAAClG,KAAD,EAAQ6F,MAAR,CAAnB;MACA,IAAI+D,WAAW,GAAGpE,SAAS,KAAK,GAAd,GAAoB;QACpCqE,EAAE,EAAE7J,KAAK,CAAC6J,EAD0B;QAEpCC,EAAE,EAAE9J,KAAK,CAAC8J,EAF0B;QAGpCC,EAAE,EAAE5D,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,CAHgC;QAIpCqE,EAAE,EAAE7D,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC;MAJgC,CAApB,GAKd;QACFoE,EAAE,EAAE/J,KAAK,CAAC+J,EADR;QAEFC,EAAE,EAAEhK,KAAK,CAACgK,EAFR;QAGFH,EAAE,EAAE1D,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,CAHF;QAIFmE,EAAE,EAAE3D,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC;MAJF,CALJ;MAWA,IAAIoE,EAAE,GAAGH,WAAW,CAACG,EAArB;MAAA,IACIC,EAAE,GAAGJ,WAAW,CAACI,EADrB;MAAA,IAEIH,EAAE,GAAGD,WAAW,CAACC,EAFrB;MAAA,IAGIC,EAAE,GAAGF,WAAW,CAACE,EAHrB;MAIA,IAAIG,MAAM,GAAG;QACXC,CAAC,EAAE1E,SAAS,KAAK,GAAd,GAAoB,CAApB,GAAwBmE,UAAU,GAAG,CAD7B;QAEXQ,CAAC,EAAE3E,SAAS,KAAK,GAAd,GAAoB,CAApB,GAAwBmE,UAAU,GAAG;MAF7B,CAAb;MAIA,IAAIO,CAAC,GAAG/D,IAAI,CAACC,GAAL,CAAS2D,EAAT,EAAaC,EAAb,IAAmBC,MAAM,CAACC,CAAlC;MACA,IAAIC,CAAC,GAAGhE,IAAI,CAACC,GAAL,CAASyD,EAAT,EAAaC,EAAb,IAAmBG,MAAM,CAACE,CAAlC;MACA,IAAI1C,KAAK,GAAGtB,IAAI,CAACE,GAAL,CAAS0D,EAAT,EAAaC,EAAb,IAAmBC,MAAM,CAACC,CAA1B,GAA8BA,CAA1C;MACA,IAAIE,MAAM,GAAGjE,IAAI,CAACE,GAAL,CAASwD,EAAT,EAAaC,EAAb,IAAmBG,MAAM,CAACE,CAA1B,GAA8BA,CAA3C;MACA,OAAO;QACLD,CAAC,EAAEA,CADE;QAELC,CAAC,EAAEA,CAFE;QAGL1C,KAAK,EAAEA,KAHF;QAIL2C,MAAM,EAAEA;MAJH,CAAP;IAMD;EApC6B,CAAD,EAqC5B;IACD3J,GAAG,EAAE,qBADJ;IAEDU,KAAK,EAAE,SAASkJ,mBAAT,CAA6BrK,KAA7B,EAAoC;MACzC,IAAI0H,WAAW,GAAG1H,KAAK,CAAC0H,WAAxB;MAAA,IACIqC,EAAE,GAAG/J,KAAK,CAAC+J,EADf;MAAA,IAEIC,EAAE,GAAGhK,KAAK,CAACgK,EAFf;MAAA,IAGIH,EAAE,GAAG7J,KAAK,CAAC6J,EAHf;MAAA,IAIIC,EAAE,GAAG9J,KAAK,CAAC8J,EAJf;MAAA,IAKI/C,WAAW,GAAG/G,KAAK,CAAC+G,WALxB;MAMA,IAAIvB,SAAS,GAAGO,YAAY,CAAC/F,KAAD,CAA5B;MACA,IAAI2J,UAAU,GAAG3J,KAAK,CAAC2J,UAAN,IAAoB3J,KAAK,CAACyH,KAA3C;MACA,IAAI5B,MAAM,GAAGiB,cAAc,CAACC,WAAD,EAAcN,aAAa,CAACzG,KAAD,CAA3B,CAA3B;MACA,IAAI2F,KAAK,GAAGO,OAAO,CAAClG,KAAD,EAAQ6F,MAAR,CAAnB;MACA,IAAIyE,QAAQ,GAAGnE,IAAI,CAACC,GAAL,CAAS2D,EAAT,EAAaC,EAAb,IAAmBL,UAAU,GAAG,CAA/C;MACA,IAAIY,QAAQ,GAAGpE,IAAI,CAACC,GAAL,CAASyD,EAAT,EAAaC,EAAb,IAAmBH,UAAU,GAAG,CAA/C;MACA,IAAIO,CAAC,GAAG;QACN9D,GAAG,EAAEZ,SAAS,KAAK,GAAd,GAAoBW,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,IAAkD+B,WAAW,GAAG,CAApF,GAAwF4C,QADvF;QAENjE,GAAG,EAAEb,SAAS,KAAK,GAAd,GAAoBW,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,IAAkD+B,WAAW,GAAG,CAApF,GAAwF4C;MAFvF,CAAR;MAIA,IAAIH,CAAC,GAAG;QACN/D,GAAG,EAAEZ,SAAS,KAAK,GAAd,GAAoBW,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,IAAkD+B,WAAW,GAAG,CAApF,GAAwF6C,QADvF;QAENlE,GAAG,EAAEb,SAAS,KAAK,GAAd,GAAoBW,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,IAAkD+B,WAAW,GAAG,CAApF,GAAwF6C;MAFvF,CAAR;MAIA,IAAI9C,KAAK,GAAGjC,SAAS,KAAK,GAAd,GAAoBkC,WAApB,GAAkCiC,UAA9C;MACA,IAAIS,MAAM,GAAG5E,SAAS,KAAK,GAAd,GAAoBmE,UAApB,GAAiCjC,WAA9C;MACA,OAAO;QACLtB,GAAG,EAAE;UACH8D,CAAC,EAAEA,CAAC,CAAC9D,GADF;UAEH+D,CAAC,EAAEA,CAAC,CAAC/D,GAFF;UAGHqB,KAAK,EAAEA,KAHJ;UAIH2C,MAAM,EAAEA;QAJL,CADA;QAOL/D,GAAG,EAAE;UACH6D,CAAC,EAAEA,CAAC,CAAC7D,GADF;UAEH8D,CAAC,EAAEA,CAAC,CAAC9D,GAFF;UAGHoB,KAAK,EAAEA,KAHJ;UAIH2C,MAAM,EAAEA;QAJL;MAPA,CAAP;IAcD;EAvCA,CArC4B,EA6E5B;IACD3J,GAAG,EAAE,WADJ;IAEDU,KAAK,EAAE,SAASqJ,SAAT,CAAmBxK,KAAnB,EAA0B;MAC/B,IAAIyK,oBAAoB,GAAGzK,KAAK,CAAC0K,aAAjC;MAAA,IACIA,aAAa,GAAGD,oBAAoB,KAAK,KAAK,CAA9B,GAAkC,EAAlC,GAAuCA,oBAD3D;MAEA,IAAIjF,SAAS,GAAGO,YAAY,CAAC/F,KAAD,CAA5B;;MAEA,IAAI0K,aAAa,CAACC,SAAd,IAA2BD,aAAa,CAACE,SAA7C,EAAwD;QACtD,OAAOpF,SAAS,KAAK,GAAd,GAAoB,WAApB,GAAkC,WAAzC;MACD,CAFD,MAEO,IAAIkF,aAAa,CAACG,KAAlB,EAAyB;QAC9B,OAAO,MAAP;MACD;;MAED,OAAO,WAAP;IACD;EAdA,CA7E4B,EA4F5B;IACDpK,GAAG,EAAE,eADJ;IAEDU,KAAK,EAAE,SAAS2J,aAAT,CAAuB9K,KAAvB,EAA8B;MACnC,IAAI+K,eAAe,GAAG/K,KAAK,CAAC+K,eAA5B;MAAA,IACIzB,WAAW,GAAGtJ,KAAK,CAACsJ,WADxB;MAAA,IAEI0B,EAAE,GAAGhL,KAAK,CAACgL,EAFf;MAAA,IAGIjE,WAAW,GAAG/G,KAAK,CAAC+G,WAHxB;MAAA,IAIIkE,YAAY,GAAGjL,KAAK,CAACkL,KAJzB;MAAA,IAKIA,KAAK,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0B,EAA1B,GAA+BA,YAL3C;MAAA,IAMIE,qBAAqB,GAAGnL,KAAK,CAAC0K,aANlC;MAAA,IAOIA,aAAa,GAAGS,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,EAAnC,GAAwCA,qBAP5D;;MASA,IAAI,CAACpE,WAAL,EAAkB;QAChB,OAAO,IAAP;MACD;;MAED,IAAIqE,gBAAgB,GAAG,KAAKf,mBAAL,CAAyBrK,KAAzB,CAAvB;;MAEA,IAAIqL,KAAK,GAAG5L,OAAO,CAAC,EAAD,EAAKoJ,aAAa,CAACS,WAAnB,EAAgCA,WAAhC,CAAnB;;MAEA,IAAIgC,QAAQ,GAAG7L,OAAO,CAAC;QACrB8L,WAAW,EAAE5G,UAAU,CAACiC,WAAX,CAAuBG,WAAvB;MADQ,CAAD,EAEnBmE,KAFmB,CAAtB;;MAIA,IAAIM,QAAQ,GAAG/L,OAAO,CAAC;QACrB8L,WAAW,EAAE5G,UAAU,CAACkC,WAAX,CAAuBE,WAAvB;MADQ,CAAD,EAEnBmE,KAFmB,CAAtB;;MAIA,IAAIO,cAAc,GAAGhM,OAAO,CAAC;QAC3BgB,GAAG,EAAE,GAAGiL,MAAH,CAAUV,EAAV,EAAc,MAAd,CADsB;QAE3BK,KAAK,EAAE3G,OAAO,CAACiH,aAAR,CAAsBN,KAAtB,EAA6B;UAClCH,KAAK,EAAEI,QAD2B;UAElCxD,MAAM,EAAE4C,aAAa,CAACC;QAFY,CAA7B;MAFoB,CAAD,EAMzBS,gBAAgB,CAAChF,GANQ,CAA5B;;MAQA,IAAIwF,cAAc,GAAGnM,OAAO,CAAC;QAC3BgB,GAAG,EAAE,GAAGiL,MAAH,CAAUV,EAAV,EAAc,MAAd,CADsB;QAE3BK,KAAK,EAAE3G,OAAO,CAACiH,aAAR,CAAsBN,KAAtB,EAA6B;UAClCH,KAAK,EAAEM,QAD2B;UAElC1D,MAAM,EAAE4C,aAAa,CAACE;QAFY,CAA7B;MAFoB,CAAD,EAMzBQ,gBAAgB,CAAC/E,GANQ,CAA5B;;MAQA,OAAO,CAAC,aAAa9B,KAAK,CAACsH,YAAN,CAAmBd,eAAnB,EAAoCU,cAApC,CAAd,EAAmE,aAAalH,KAAK,CAACsH,YAAN,CAAmBd,eAAnB,EAAoCa,cAApC,CAAhF,CAAP;IACD;EA7CA,CA5F4B,EA0I5B;IACDnL,GAAG,EAAE,aADJ;IAEDU,KAAK,EAAE,SAAS2K,WAAT,CAAqB9L,KAArB,EAA4B;MACjC,IAAI+L,cAAc,GAAG/L,KAAK,CAAC+L,cAA3B;MAAA,IACI5C,UAAU,GAAGnJ,KAAK,CAACmJ,UADvB;MAAA,IAEI6C,qBAAqB,GAAGhM,KAAK,CAAC0K,aAFlC;MAAA,IAGIA,aAAa,GAAGsB,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,EAAnC,GAAwCA,qBAH5D;MAAA,IAIIC,aAAa,GAAGjM,KAAK,CAACkL,KAJ1B;MAAA,IAKIA,KAAK,GAAGe,aAAa,KAAK,KAAK,CAAvB,GAA2B,EAA3B,GAAgCA,aAL5C;MAAA,IAMIlF,WAAW,GAAG/G,KAAK,CAAC+G,WANxB;;MAQA,IAAI,CAACA,WAAL,EAAkB;QAChB,OAAO,IAAP;MACD;;MAED,IAAI4C,UAAU,GAAG3J,KAAK,CAAC2J,UAAN,IAAoB3J,KAAK,CAACyH,KAA3C;MACA,IAAIyE,cAAc,GAAG,KAAKxC,iBAAL,CAAuB1J,KAAvB,EAA8B2J,UAA9B,CAArB;;MAEA,IAAIwC,SAAS,GAAG1M,OAAO,CAAC,EAAD,EAAKoJ,aAAa,CAACM,UAAnB,EAA+BA,UAA/B,CAAvB;;MAEA,IAAIkC,KAAK,GAAG3G,OAAO,CAACiH,aAAR,CAAsBQ,SAAtB,EAAiC;QAC3CjB,KAAK,EAAEA,KADoC;QAE3CpD,MAAM,EAAE4C,aAAa,CAACG;MAFqB,CAAjC,CAAZ;;MAKA,IAAIuB,UAAU,GAAG3M,OAAO,CAAC;QACvB4L,KAAK,EAAEA;MADgB,CAAD,EAErBa,cAFqB,CAAxB;;MAIA,OAAO,aAAa3H,KAAK,CAACsH,YAAN,CAAmBE,cAAnB,EAAmCK,UAAnC,CAApB;IACD;EA9BA,CA1I4B,EAyK5B;IACD3L,GAAG,EAAE,iBADJ;IAEDU,KAAK,EAAE,SAASkL,eAAT,CAAyBrM,KAAzB,EAAgC;MACrC,IAAIsM,kBAAkB,GAAGtM,KAAK,CAACsM,kBAA/B;MAAA,IACIxD,cAAc,GAAG9I,KAAK,CAAC8I,cAD3B;MAAA,IAEIyD,qBAAqB,GAAGvM,KAAK,CAAC0K,aAFlC;MAAA,IAGIA,aAAa,GAAG6B,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,EAAnC,GAAwCA,qBAH5D;MAAA,IAIIC,aAAa,GAAGxM,KAAK,CAACkL,KAJ1B;MAAA,IAKIA,KAAK,GAAGsB,aAAa,KAAK,KAAK,CAAvB,GAA2B,EAA3B,GAAgCA,aAL5C;MAMA,IAAIC,cAAc,GAAGzM,KAAK,CAACyM,cAAN,IAAwBzM,KAAK,CAACyH,KAAnD;MACA,IAAIiF,MAAM,GAAG,KAAKlC,SAAL,CAAexK,KAAf,CAAb;MACA,IAAIkM,cAAc,GAAG,KAAKxC,iBAAL,CAAuB1J,KAAvB,EAA8ByM,cAA9B,EAA8ChG,aAAa,CAACzG,KAAD,CAA3D,CAArB;;MAEA,IAAImM,SAAS,GAAG1M,OAAO,CAAC;QACtBiN,MAAM,EAAEA;MADc,CAAD,EAEpB7D,aAAa,CAACC,cAFM,EAEUA,cAFV,CAAvB;;MAIA,IAAIuC,KAAK,GAAG3G,OAAO,CAACiH,aAAR,CAAsBQ,SAAtB,EAAiC;QAC3CjB,KAAK,EAAEA,KADoC;QAE3CpD,MAAM,EAAE4C,aAAa,CAACiC;MAFqB,CAAjC,CAAZ;;MAKA,IAAIC,cAAc,GAAGnN,OAAO,CAAC;QAC3B4L,KAAK,EAAEA;MADoB,CAAD,EAEzBa,cAFyB,CAA5B;;MAIA,OAAO,aAAa3H,KAAK,CAACsH,YAAN,CAAmBS,kBAAnB,EAAuCM,cAAvC,CAApB;IACD;EA3BA,CAzK4B,EAqM5B;IACDnM,GAAG,EAAE,YADJ;IAEDU,KAAK,EAAE,SAAS0L,UAAT,CAAoB7M,KAApB,EAA2B;MAChC,IAAI8M,aAAa,GAAGxN,KAAK,CAACU,KAAD,EAAQ,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,OAAzB,EAAkC,OAAlC,EAA2C,QAA3C,EAAqD,OAArD,CAAR,CAAzB;;MAEA,OAAO,aAAauE,KAAK,CAACsH,YAAN,CAAmB7L,KAAK,CAAC+M,aAAzB,EAAwCD,aAAxC,CAApB;IACD;EANA,CArM4B,EA4M5B;IACDrM,GAAG,EAAE,QADJ;IAEDU,KAAK,EAAE,SAAS6L,MAAT,GAAkB;MACvB,OAAO,aAAazI,KAAK,CAAC0I,aAAN,CAAoB,GAApB,EAAyB,KAAKjN,KAAL,CAAWkN,MAApC,EAA4C,KAAKL,UAAL,CAAgB,KAAK7M,KAArB,CAA5C,EAAyE,KAAKqM,eAAL,CAAqB,KAAKrM,KAA1B,CAAzE,EAA2G,KAAK8L,WAAL,CAAiB,KAAK9L,KAAtB,CAA3G,EAAyI,KAAK8K,aAAL,CAAmB,KAAK9K,KAAxB,CAAzI,CAApB;IACD;EAJA,CA5M4B,CAAnB,CAAZ;;EAmNA,OAAOuJ,gBAAP;AACD,CA/NmC,CA+NlChF,KAAK,CAAC4I,SA/N4B,CAApC;;AAiOA5D,gBAAgB,CAAC6D,SAAjB,GAA6B;EAC3BC,SAAS,EAAE7I,SAAS,CAAC8I,IADM;EAE3BC,SAAS,EAAE/I,SAAS,CAAC8I,IAFM;EAG3BE,WAAW,EAAEhJ,SAAS,CAAC8I,IAHI;EAI3BhB,kBAAkB,EAAE9H,SAAS,CAACiJ,OAJH;EAK3B3E,cAAc,EAAEtE,SAAS,CAACkJ,MALC;EAM3BjB,cAAc,EAAEjI,SAAS,CAACmJ,MANC;EAO3B5B,cAAc,EAAEvH,SAAS,CAACiJ,OAPC;EAQ3BG,cAAc,EAAEpJ,SAAS,CAACqJ,KAAV,CAAgB,CAAC,GAAD,EAAM,GAAN,CAAhB,CARW;EAS3B9G,WAAW,EAAEvC,SAAS,CAACsJ,KATI;EAU3B3E,UAAU,EAAE3E,SAAS,CAACkJ,MAVK;EAW3B/D,UAAU,EAAEnF,SAAS,CAACmJ,MAXK;EAY3BI,SAAS,EAAEvJ,SAAS,CAACwJ,MAZM;EAa3BxI,SAAS,EAAEhB,SAAS,CAACqJ,KAAV,CAAgB,CAAC,GAAD,EAAM,GAAN,CAAhB,CAbgB;EAc3BI,OAAO,EAAEzJ,SAAS,CAAC8I,IAdQ;EAe3BJ,MAAM,EAAE1I,SAAS,CAACkJ,MAfS;EAgB3BQ,cAAc,EAAE1J,SAAS,CAACiJ,OAhBC;EAiB3B1C,eAAe,EAAEvG,SAAS,CAACiJ,OAjBA;EAkB3BnE,WAAW,EAAE9E,SAAS,CAACkJ,MAlBI;EAmB3BhG,WAAW,EAAElD,SAAS,CAACmJ,MAnBI;EAoB3B3C,EAAE,EAAExG,SAAS,CAAC2J,SAAV,CAAoB,CAAC3J,SAAS,CAACmJ,MAAX,EAAmBnJ,SAAS,CAACwJ,MAA7B,CAApB,CApBuB;EAqB3BjB,aAAa,EAAEvI,SAAS,CAACiJ,OArBE;EAsB3B5J,IAAI,EAAEW,SAAS,CAACwJ,MAtBW;EAuB3BI,mBAAmB,EAAE5J,SAAS,CAAC6J,IAvBJ;EAwB3B/I,KAAK,EAAEd,SAAS,CAACkJ,MAxBU;EAyB3BrC,KAAK,EAAE7G,SAAS,CAACkJ,MAzBU;EA0B3B9F,IAAI,EAAEpD,SAAS,CAACwJ,MA1BW;EA2B3BvG,KAAK,EAAEjD,SAAS,CAACmJ;AA3BU,CAA7B;AA6BApE,gBAAgB,CAAC+E,YAAjB,GAAgC;EAC9BjB,SAAS,EAAE,IADmB;EAE9BE,SAAS,EAAE,IAFmB;EAG9BC,WAAW,EAAE,IAHiB;EAI9BlB,kBAAkB,EAAE,aAAa/H,KAAK,CAAC0I,aAAN,CAAoBlI,GAApB,EAAyB,IAAzB,CAJH;EAK9BgH,cAAc,EAAE,aAAaxH,KAAK,CAAC0I,aAAN,CAAoBlI,GAApB,EAAyB,IAAzB,CALC;EAM9BmJ,cAAc,EAAE,aAAa3J,KAAK,CAAC0I,aAAN,CAAoB,GAApB,EAAyB,IAAzB,CANC;EAO9BlC,eAAe,EAAE,aAAaxG,KAAK,CAAC0I,aAAN,CAAoBlI,GAApB,EAAyB,IAAzB,CAPA;EAQ9B2C,WAAW,EAAE,EARiB;EAS9BqF,aAAa,EAAE,aAAaxI,KAAK,CAAC0I,aAAN,CAAoBrI,WAApB,EAAiC,IAAjC,CATE;EAU9B6C,KAAK,EAAE;AAVuB,CAAhC;;AAaA8B,gBAAgB,CAACgF,aAAjB,GAAiC,UAAUvO,KAAV,EAAiB;EAChD,OAAOA,KAAK,CAACiO,OAAN,GAAgBhG,SAAhB,GAA4B,CAAC;IAClClI,MAAM,EAAEC,KAAK,CAAC4H,IADoB;IAElC4G,aAAa,EAAE;MACbC,YAAY,EAAE,sBAAUC,GAAV,EAAeC,WAAf,EAA4B;QACxCD,GAAG,CAACE,cAAJ;QACA,IAAIpB,WAAW,GAAGmB,WAAW,CAACnB,WAA9B;QAAA,IACIzG,WAAW,GAAG4H,WAAW,CAAC5H,WAD9B;QAEA,IAAIvB,SAAS,GAAGO,YAAY,CAAC4I,WAAD,CAA5B;QACA,IAAIE,SAAS,GAAGF,WAAW,CAACE,SAAZ,IAAyBpK,SAAS,CAACqK,YAAV,CAAuBJ,GAAvB,CAAzC;QACA,IAAIlH,QAAQ,GAAG/C,SAAS,CAACsK,sBAAV,CAAiCL,GAAjC,EAAsCG,SAAtC,EAAiDrJ,SAAjD,CAAf;QACA,IAAIwB,UAAU,GAAGP,aAAa,CAACkI,WAAD,CAA9B;QACA,IAAIK,aAAa,GAAGlI,cAAc,CAACC,WAAD,EAAcC,UAAd,CAAlC;QACA,IAAIrB,KAAK,GAAGO,OAAO,CAACyI,WAAD,EAAcK,aAAd,CAAnB;QACA,IAAIC,YAAY,GAAGzB,WAAW,IAAIjG,eAAe,CAACoH,WAAD,EAAcnH,QAAd,EAAwB7B,KAAxB,CAAjD;QACA,IAAI+E,aAAa,GAAG;UAClBiC,SAAS,EAAE,CAACgC,WAAW,CAAC5H,WADN;UAElB8D,KAAK,EAAEnE,WAAW,CAACc,QAAD,EAAW7B,KAAX,CAAX,IAAgC,CAACX,OAAO,CAACgC,UAAD,EAAagI,aAAb,CAF7B;UAGlBrE,SAAS,EAAEsE,YAAY,KAAK,KAAjB,IAA0BA,YAAY,KAAK,MAHpC;UAIlBrE,SAAS,EAAEqE,YAAY,KAAK,KAAjB,IAA0BA,YAAY,KAAK;QAJpC,CAApB;QAMA,OAAO,CAAC;UACNC,QAAQ,EAAE,oBAAY;YACpB,OAAO;cACLxE,aAAa,EAAEA,aADV;cAEL3D,WAAW,EAAE4H,WAAW,CAAC5H,WAFpB;cAGL8H,SAAS,EAAEA;YAHN,CAAP;UAKD;QAPK,CAAD,CAAP;MASD,CA3BY;MA4BbM,WAAW,EAAE,qBAAUT,GAAV,EAAeC,WAAf,EAA4B;QACvCD,GAAG,CAACE,cAAJ;QACA,IAAIpB,WAAW,GAAGmB,WAAW,CAACnB,WAA9B;QAAA,IACIH,SAAS,GAAGsB,WAAW,CAACtB,SAD5B;QAAA,IAEIE,SAAS,GAAGoB,WAAW,CAACpB,SAF5B;QAAA,IAGI7C,aAAa,GAAGiE,WAAW,CAACjE,aAHhC;QAAA,IAII3D,WAAW,GAAG4H,WAAW,CAAC5H,WAJ9B;QAKA,IAAIvB,SAAS,GAAGO,YAAY,CAAC4I,WAAD,CAA5B,CAPuC,CAOI;;QAE3C,IAAI,CAACnB,WAAD,IAAgB,CAACH,SAArB,EAAgC;UAC9B,OAAO,EAAP;QACD;;QAED,IAAIrG,UAAU,GAAGP,aAAa,CAACkI,WAAD,CAA9B;QACA,IAAIK,aAAa,GAAGlI,cAAc,CAACC,WAAD,EAAcC,UAAd,CAAlC;QACA,IAAI6H,SAAS,GAAGF,WAAW,CAACE,SAAZ,IAAyBpK,SAAS,CAACqK,YAAV,CAAuBJ,GAAvB,CAAzC;QACA,IAAIlH,QAAQ,GAAG/C,SAAS,CAACsK,sBAAV,CAAiCL,GAAjC,EAAsCG,SAAtC,EAAiDrJ,SAAjD,CAAf;QACA,IAAIG,KAAK,GAAGO,OAAO,CAACyI,WAAD,EAAcK,aAAd,CAAnB;QACA,IAAIC,YAAY,GAAGzB,WAAW,IAAIjG,eAAe,CAACoH,WAAD,EAAcnH,QAAd,EAAwB7B,KAAxB,CAAjD,CAlBuC,CAkB0C;;QAEjF,IAAIsJ,YAAJ,EAAkB;UAChB,OAAO,CAAC;YACNC,QAAQ,EAAE,oBAAY;cACpB,OAAO;gBACLL,SAAS,EAAEA,SADN;gBAELO,WAAW,EAAE,IAFR;gBAGLH,YAAY,EAAEA,YAHT;gBAILlI,WAAW,EAAEiI,aAJR;gBAKL5G,aAAa,EAAEZ,QALV;gBAMLkD,aAAa,EAAEA;cANV,CAAP;YAQD;UAVK,CAAD,CAAP;QAYD,CAbD,MAaO,IAAIhE,WAAW,CAACc,QAAD,EAAW7B,KAAX,CAAX,IAAgC,CAACX,OAAO,CAACgC,UAAD,EAAagI,aAAb,CAA5C,EAAyE;UAC9E;UACA;UACA,OAAO,CAAC;YACNE,QAAQ,EAAE,oBAAY;cACpB,OAAO;gBACLG,SAAS,EAAEhC,SADN;gBAELjF,aAAa,EAAEZ,QAFV;gBAGLT,WAAW,EAAEiI,aAHR;gBAILtE,aAAa,EAAEA,aAJV;gBAKLmE,SAAS,EAAEA;cALN,CAAP;YAOD;UATK,CAAD,CAAP;QAWD,CAdM,MAcA;UACL;UACA;UACA,OAAOtB,SAAS,GAAG,CAAC;YAClB2B,QAAQ,EAAE,oBAAY;cACpB,OAAO;gBACLE,WAAW,EAAE5B,WADR;gBAELzG,WAAW,EAAE,IAFR;gBAGLqB,aAAa,EAAEZ,QAHV;gBAILkD,aAAa,EAAEA,aAJV;gBAKLmE,SAAS,EAAEA;cALN,CAAP;YAOD;UATiB,CAAD,CAAH,GAUX,EAVL;QAWD;MACF,CA1FY;MA2Fb;MACAS,WAAW,EAAE,qBAAUZ,GAAV,EAAeC,WAAf,EAA4B;QACvC,IAAIU,SAAS,GAAGV,WAAW,CAACU,SAA5B;QAAA,IACID,WAAW,GAAGT,WAAW,CAACS,WAD9B;QAAA,IAEI5B,WAAW,GAAGmB,WAAW,CAACnB,WAF9B;QAAA,IAGIH,SAAS,GAAGsB,WAAW,CAACtB,SAH5B;QAAA,IAIIe,mBAAmB,GAAGO,WAAW,CAACP,mBAJtC;QAAA,IAKIrH,WAAW,GAAG4H,WAAW,CAAC5H,WAL9B;QAMA,IAAIvB,SAAS,GAAGO,YAAY,CAAC4I,WAAD,CAA5B;;QAEA,IAAIU,SAAS,IAAID,WAAjB,EAA8B;UAC5BV,GAAG,CAACE,cAAJ;UACAF,GAAG,CAACa,eAAJ;QACD;;QAED,IAAIV,SAAS,GAAGF,WAAW,CAACE,SAAZ,IAAyBpK,SAAS,CAACqK,YAAV,CAAuBJ,GAAvB,CAAzC;QACA,IAAIlH,QAAQ,GAAG/C,SAAS,CAACsK,sBAAV,CAAiCL,GAAjC,EAAsCG,SAAtC,EAAiDrJ,SAAjD,CAAf;QACA,IAAIwB,UAAU,GAAGP,aAAa,CAACkI,WAAD,CAA9B;QACA,IAAI9I,MAAM,GAAGiB,cAAc,CAACC,WAAD,EAAcC,UAAd,CAA3B;QACA,IAAIwI,YAAY,GAAGtJ,OAAO,CAACyI,WAAD,EAAc9I,MAAd,CAA1B;QACA,IAAIoJ,YAAY,GAAG1H,eAAe,CAACoH,WAAD,EAAcnH,QAAd,EAAwBgI,YAAxB,CAAlC;QACA,IAAI9E,aAAa,GAAG;UAClBiC,SAAS,EAAE,CAACgC,WAAW,CAAC5H,WADN;UAElB8D,KAAK,EAAEnE,WAAW,CAACc,QAAD,EAAWgI,YAAX,CAAX,IAAuC,CAACxK,OAAO,CAACgC,UAAD,EAAanB,MAAb,CAFpC;UAGlB8E,SAAS,EAAEsE,YAAY,KAAK,KAAjB,IAA0BA,YAAY,KAAK,MAHpC;UAIlBrE,SAAS,EAAEqE,YAAY,KAAK,KAAjB,IAA0BA,YAAY,KAAK;QAJpC,CAApB;;QAOA,IAAI,CAACN,WAAW,CAACU,SAAb,IAA0B,CAACV,WAAW,CAACS,WAA3C,EAAwD;UACtD,OAAO,CAAC;YACNF,QAAQ,EAAE,oBAAY;cACpB,OAAO;gBACLxE,aAAa,EAAEA,aADV;gBAEL3D,WAAW,EAAE4H,WAAW,CAAC5H,WAFpB;gBAGL8H,SAAS,EAAEA;cAHN,CAAP;YAKD;UAPK,CAAD,CAAP;QASD;;QAED,IAAIxB,SAAS,IAAIgC,SAAjB,EAA4B;UAC1B,IAAIhH,SAAS,GAAG7B,YAAY,CAACmI,WAAD,CAA5B;UACA,IAAIhJ,KAAK,GAAGwC,MAAM,CAACwG,WAAD,EAAcnH,QAAd,CAAlB;UACA,IAAIwH,aAAa,GAAG1I,QAAQ,CAACqI,WAAD,EAAchJ,KAAd,CAA5B;UACA,IAAIyC,aAAa,GAAGjC,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,KAAmDQ,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACmF,SAAD,CAAvC,CAAnD,IAA0GlC,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyC,KAAD,CAAvC,KAAmDQ,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACmF,SAAD,CAAvC,CAA7J,GAAmNsG,WAAW,CAACvG,aAA/N,GAA+OZ,QAAnQ;UACA,IAAIiI,YAAY,GAAG;YACjBrH,aAAa,EAAEA,aADE;YAEjBiH,SAAS,EAAE,IAFM;YAGjBtI,WAAW,EAAEiI,aAHI;YAIjBtE,aAAa,EAAE;cACbG,KAAK,EAAE;YADM,CAJE;YAOjBgE,SAAS,EAAEA;UAPM,CAAnB;;UAUA,IAAItP,WAAW,CAAC6O,mBAAD,CAAf,EAAsC;YACpCA,mBAAmB,CAACY,aAAD,EAAgBxP,SAAS,CAAC,EAAD,EAAKiQ,YAAL,EAAmBd,WAAnB,CAAzB,CAAnB;UACD;;UAED,OAAO,CAAC;YACNO,QAAQ,EAAE,oBAAY;cACpB,OAAOO,YAAP;YACD;UAHK,CAAD,CAAP;QAKD,CAxBD,MAwBO,IAAIjC,WAAW,IAAI4B,WAAnB,EAAgC;UACrC,IAAIM,cAAc,GAAG3I,WAAW,IAAImB,gBAAgB,EAApD;;UAEA,IAAIyH,MAAM,GAAGzJ,OAAO,CAACyI,WAAD,EAAce,cAAd,CAApB;;UAEA,IAAIE,cAAc,GAAGjB,WAAW,CAACM,YAAZ,KAA6B,KAA7B,GAAqC,KAArC,GAA6C,KAAlE;UACA,IAAIY,MAAM,GAAGlB,WAAW,CAACM,YAAZ,IAA4B1H,eAAe,CAACoH,WAAD,EAAcnH,QAAd,EAAwBmI,MAAxB,CAAf,KAAmD,MAA/E,GAAwFC,cAAxF,GAAyGjB,WAAW,CAACM,YAAlI;;UAEA,IAAI,CAACY,MAAL,EAAa;YACXH,cAAc,GAAGpJ,QAAQ,CAACqI,WAAD,EAAc,CAACA,WAAW,CAACvG,aAAb,EAA4BZ,QAA5B,CAAd,CAAzB;UACD,CAFD,MAEO;YACL,IAAIsI,QAAQ,GAAGtK,SAAS,KAAK,GAAd,GAAoBW,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyM,MAAD,CAAvC,CAApB,GAAuExJ,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyM,MAAD,CAAvC,CAAtF;YACA,IAAII,QAAQ,GAAGvK,SAAS,KAAK,GAAd,GAAoBW,IAAI,CAACC,GAAL,CAAS9D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyM,MAAD,CAAvC,CAApB,GAAuExJ,IAAI,CAACE,GAAL,CAAS/D,KAAT,CAAe6D,IAAf,EAAqBjD,kBAAkB,CAACyM,MAAD,CAAvC,CAAtF;YACA,IAAIvJ,GAAG,GAAGyJ,MAAM,KAAK,KAAX,GAAmBE,QAAnB,GAA8BvI,QAAxC;YACA,IAAInB,GAAG,GAAGwJ,MAAM,KAAK,KAAX,GAAmBC,QAAnB,GAA8BtI,QAAxC;YACAkI,cAAc,GAAGpJ,QAAQ,CAACqI,WAAD,EAAc,CAACvI,GAAD,EAAMC,GAAN,CAAd,CAAzB;UACD;;UAED,IAAI2J,aAAa,GAAG;YAClBjJ,WAAW,EAAE2I,cADK;YAElBtH,aAAa,EAAEuG,WAAW,CAACvG,aAFT;YAGlBgH,WAAW,EAAEA,WAHK;YAIlBH,YAAY,EAAEY,MAJI;YAKlBhB,SAAS,EAAEA,SALO;YAMlBnE,aAAa,EAAE;cACbG,KAAK,EAAE,IADM;cAEbF,SAAS,EAAEsE,YAAY,KAAK,KAFf;cAGbrE,SAAS,EAAEqE,YAAY,KAAK;YAHf;UANG,CAApB;;UAaA,IAAI1P,WAAW,CAAC6O,mBAAD,CAAf,EAAsC;YACpCA,mBAAmB,CAACsB,cAAD,EAAiBlQ,SAAS,CAAC,EAAD,EAAKwQ,aAAL,EAAoBrB,WAApB,CAA1B,CAAnB;UACD;;UAED,OAAO,CAAC;YACNO,QAAQ,EAAE,oBAAY;cACpB,OAAOc,aAAP;YACD;UAHK,CAAD,CAAP;QAKD;;QAED,OAAO,EAAP;MACD,CAtMY;MAuMbC,SAAS,EAAE,mBAAUvB,GAAV,EAAeC,WAAf,EAA4B;QACrC,IAAIP,mBAAmB,GAAGO,WAAW,CAACP,mBAAtC;QAAA,IACIrH,WAAW,GAAG4H,WAAW,CAAC5H,WAD9B;QAAA,IAEIyG,WAAW,GAAGmB,WAAW,CAACnB,WAF9B;QAAA,IAGI9C,aAAa,GAAGiE,WAAW,CAACjE,aAHhC,CADqC,CAIU;;QAE/C,IAAI+E,YAAY,GAAG;UACjBJ,SAAS,EAAE,KADM;UAEjBD,WAAW,EAAE,KAFI;UAGjBH,YAAY,EAAE,IAHG;UAIjB7G,aAAa,EAAE,IAJE;UAKjBrB,WAAW,EAAEA,WALI;UAMjB2D,aAAa,EAAEA;QANE,CAAnB;;QASA,IAAI8C,WAAW,IAAIjO,WAAW,CAAC6O,mBAAD,CAA9B,EAAqD;UACnDA,mBAAmB,CAACrH,WAAD,EAAcvH,SAAS,CAAC,EAAD,EAAKiQ,YAAL,EAAmBd,WAAnB,CAAvB,CAAnB;QACD;;QAED,OAAO,CAAC;UACNO,QAAQ,EAAE,oBAAY;YACpB,OAAOO,YAAP;UACD;QAHK,CAAD,CAAP;MAKD,CA/NY;MAgObS,YAAY,EAAE,sBAAUxB,GAAV,EAAeC,WAAf,EAA4B;QACxC,IAAI5H,WAAW,GAAG4H,WAAW,CAAC5H,WAA9B;QACA,OAAO,CAAC;UACNmI,QAAQ,EAAE,oBAAY;YACpB,OAAO;cACLG,SAAS,EAAE,KADN;cAELD,WAAW,EAAE,KAFR;cAGLH,YAAY,EAAE,IAHT;cAIL7G,aAAa,EAAE,IAJV;cAKLrB,WAAW,EAAEA,WALR;cAML2D,aAAa,EAAE;YANV,CAAP;UAQD;QAVK,CAAD,CAAP;MAYD;IA9OY;EAFmB,CAAD,CAAnC;AAmPD,CApPD;;AAsPA,SAASnB,gBAAgB,IAAI4G,OAA7B"},"metadata":{},"sourceType":"module"}